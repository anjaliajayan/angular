<div class="ui top attached tabular menu ">
  <div class="item" data-tab="first" routerLink="/report/booking-report">
    Booking
  </div>
  <div class="item" data-tab="second" routerLink="/report/segment-report">Segment</div>
  <div class="item" data-tab="third" routerLink="/report/mis-report">MIS</div>
  <div class="item" data-tab="fourth" routerLink="/report/search-log-report">Search Log</div>
  <div class="item active" data-tab="fifth" routerLink="/report/audit-report">Audit Trail Log</div>
  <div class="item" data-tab="sixth" routerLink="/report/ticket-report">Ticket</div>
  <div class="item" data-tab="seventh" routerLink="/report/dynamic-report">Dynamic Report</div>
</div>
<div class="ui bottom attached tab segment tabContent-block active" data-tab="fifth">
  <div class="ui segment">
    <div class="ui fluid container">
      <div class="outer-basics">
        <form #Form="ngForm" [formGroup]="auditTrailForm" (ngSubmit)="auditReportView()" class="ui form report-form">
          <div class="field">
            <div class="outer-basicForm">
              <div class="form-inner">
                <div class="fields">
                  <!-- <div class="one wide field"></div> -->
                  <div class="five wide field">
                    <label>Platform</label>
                    <select class="ui fluid search dropdown" formControlName="selectPlatform">
                      <option value="">Platform</option>
                      <option value="">Platform</option>
                      <option class="item" *ngFor="let platform of platforms" value="{{platform}}">{{platform}}
                      </option>
                    </select>
                  </div>
                  <div class="five wide field">
                    <label>Module</label>
                    <select class="ui fluid search dropdown" formControlName="selectModule">
                      <option value="">Module</option>
                      <option class="item" *ngFor="let module of modules" value="{{module}}">{{module}}
                      </option>
                    </select>
                  </div>
                  <div class="six wide field">
                    <label>Events</label>
                    <select class="ui fluid search dropdown" formControlName="selectEvent">
                      <option value="">Events</option>
                      <option class="item" *ngFor="let event of events" value="{{event}}">{{event}}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="fields last-field">
                  <!-- <div class="one wide field"></div> -->
                  <div class="five wide field bookings_pickers"
                    [ngClass]="{'error': ((submitted && f.auditStartDate.errors) && f.auditStartDate.errors.required) }">
                    <label>Start Date<span class="mandatory">*</span></label>
                    <div class="ui left icon input">
                      <input type="text" placeholder="Start Date" formControlName="auditStartDate" name="auditStartDate"
                        value="" required />
                      <i class="icon">
                      </i>
                    </div>
                  </div>
                  <div class="five wide field bookings_pickers"
                    [ngClass]="{'error': ((submitted && f.auditEndDate.errors) && f.auditEndDate.errors.required) }">
                    <label>End Date<span class="mandatory">*</span></label>
                    <div class="ui left icon input">
                      <input type="text" placeholder="End Date" formControlName="auditEndDate" name="auditEndDate"
                        value="" required />
                      <i class="icon">
                        <i class="fa fa-calendar-o bookings_input__placeholder-icon cal" aria-hidden="true"></i>
                      </i>
                    </div>
                  </div>
                  <div class="six wide field btn-wrapper">
                    <div class="bookings_btn-panel">
                      <button class="ui primary reset button" (click)="reset()" title="Reset">
                        <i class="undo icon"></i>
                      </button>
                      <button class="ui primary  button">
                        Search
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
        <div class="fields agent-name-booking" *ngIf="showAuditReportTable">
          <div class="eight wide field ui small header">Audit Log</div>
          <!-- <div class="ui divider"></div> -->
          <!-- <div class="eight wide field bookings_btn-panel">
            <button class="ui export button" title="Export">
              Export
            </button>
          </div> -->
        </div>
        <div class="result-block" *ngIf="showAuditReportTable">
          <div class="user-table-list b2c-list-user-table" *ngIf="showAuditReportTable">
            <ngx-datatable #table class='table' [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
              [rowHeight]="'auto'" [limit]="10" [rows]='NewAuditTrail' [sortType]="'multi'" [reorderable]="true"
              [sorts]="[{prop: 'created_at', dir: 'desc'}]">
              <!-- <ngx-datatable-column name="User ID" prop="user_id">
              </ngx-datatable-column> -->
              <ngx-datatable-column name="IP Address" prop="browser_ip">
              </ngx-datatable-column>
              <ngx-datatable-column name="Platform" prop="platform">
              </ngx-datatable-column>
              <ngx-datatable-column name="Module" prop="module">
              </ngx-datatable-column>
              <ngx-datatable-column name="Event" prop="event">
              </ngx-datatable-column>
              <ngx-datatable-column name="Description" prop="description">
              </ngx-datatable-column>
              <ngx-datatable-column name="Date" prop="created_at">
                <ng-template ngx-datatable-cell-template let-value="value">{{value | date: 'dd/MM/yyyy'}}
                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable>
          </div>
        </div>
        <div class="result-block" *ngIf="bookingsLoader">
          <div class="ui segment b2c-list-user-table__segment-loader" *ngIf="bookingsLoader">
            <div class="ui active inverted dimmer">
              <div class="ui text loader">Loading Report ...</div>
            </div>
            <p></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>