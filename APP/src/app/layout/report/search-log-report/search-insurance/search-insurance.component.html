<div class="ui segment">
    <div class="ui fluid container search-log-container">
      <div class="outer-basics">
        <form  [formGroup]="searchInsuranceLogForm" (ngSubmit)="insuranceSearchLog()" class="ui form report-form">
          <div class="field">
            <div class="outer-basicForm">
              <div class="form-inner">
                <div class="fields">
                  <!-- <div class="one wide field"></div> -->
                  <div class="six wide field">
                    <label>Agents</label>
                    <select class="ui fluid search dropdown" formControlName="organisation_id">
                      <option value="">Agents</option>             
                      <option class="item" *ngFor="let orgs of orgNames" value="{{orgs.organisation_id}}">{{orgs.name}}</option>
                    </select>
                  </div>
                  <!-- <div class="one wide field"></div> -->
                  <div class="five wide field bookings_pickers"
                    [ngClass]="{'error': ((submitted && f.startDate.errors) && f.startDate.errors.required) }">
                    <label>Start Date<span class="mandatory">*</span></label>
                    <div class="ui left icon input">
                      <input type="text" placeholder="Start Date" formControlName="startDate" name="startDate"
                        value="" required />
                      <i class="icon">
                        <i class="fa fa-calendar-o bookings_input__placeholder-icon cal" aria-hidden="true"></i>
                      </i>
                    </div>
                  </div>
                  <div class="five wide field bookings_pickers"
                    [ngClass]="{'error': ((submitted && f.endDate.errors) && f.endDate.errors.required) }">
                    <label>End Date<span class="mandatory">*</span></label>
                    <div class="ui left icon input">
                      <input type="text" placeholder="End Date" formControlName="endDate" name="endDate"
                        value="" required />
                      <i class="icon">
                        <i class="fa fa-calendar-o bookings_input__placeholder-icon cal" aria-hidden="true"></i>
                      </i>
                    </div>
                  </div>
                </div>
                <div class="fields text-right">
                  <div class="sixteen wide field btn-wrapper">
                    <div class="bookings_btn-panel">
                      <button class="ui primary reset button" (click)="reset()" title="Reset">
                        <i class="undo icon"></i>
                      </button>
                      <button class="ui primary  button">
                        Search
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
        <!-- <div class="fields agent-name-booking">
          <div class="eight wide field ui small header">Hotel Search Log</div> -->
          <!-- <div class="ui divider"></div> -->
          <!-- <div class="eight wide field bookings_btn-panel">
            <button class="ui export button" title="Export">
              Export
            </button>
          </div> -->
        <!-- </div> -->
        <div class="result-block">
          <div class="user-table-list b2c-list-user-table">
            <ngx-datatable #table class='table' [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
            [rowHeight]="'auto'" [limit]="10" [rows]='NewInsuranceSearchLog' [sortType]="'multi'" [reorderable]="true"
            [externalPaging]="true" [count]="totalInsuranceSearchLog" [offset]="insuranceSearchPage"
            [sorts]="[{prop: 'created', dir: 'asc'}]" (page)="pageCallback($event)">
            <ngx-datatable-column name="Agency Name">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <span *ngIf="row.organisation">
                  {{row.organisation.name}}
                </span>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="UserName">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <span *ngIf="row.user">
                  {{row.user.username}}
                </span>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Start Date" prop="startDate">
            </ngx-datatable-column>
            <ngx-datatable-column name="End Date" prop="endDate">
            </ngx-datatable-column>
            <ngx-datatable-column name="Birth Date" prop="birthDate">
            </ngx-datatable-column>
            <ngx-datatable-column name="Country'" prop="country">
            </ngx-datatable-column>
            <ngx-datatable-column name="Product" prop="product">
            </ngx-datatable-column>
            <ngx-datatable-column name="Plan" prop="plan">
            </ngx-datatable-column>
            <ngx-datatable-column name="Benefit" prop="benefit">
            </ngx-datatable-column>
            <ngx-datatable-column name="Date" prop="created_at">
              <ng-template ngx-datatable-cell-template let-value="value">{{value | date: 'short'}}
              </ng-template>
            </ngx-datatable-column>
            </ngx-datatable>
          </div>
        </div>
      </div>
    </div>
  </div>