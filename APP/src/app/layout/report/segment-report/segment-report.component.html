<div class="ui top attached tabular menu ">
  <div class="item " data-tab="first" routerLink="/report/booking-report">
    Booking
  </div>
  <div class="item active" data-tab="second" routerLink="/report/segment-report">Segment</div>
  <div class="item" data-tab="third" routerLink="/report/mis-report">MIS</div>
  <div class="item" data-tab="fourth" routerLink="/report/search-log-report">Search Log</div>
  <div class="item" data-tab="fifth" routerLink="/report/audit-report">Audit Trail Log</div>
  <div class="item" data-tab="sixth" routerLink="/report/ticket-report">Ticket</div>
  <div class="item" data-tab="seventh" routerLink="/report/dynamic-report">Dynamic Report</div>
</div>
<div class="ui bottom attached tab segment active tabContent-block" data-tab="second">
  <div class="ui segment">
    <div class="ui fluid container">
      <div class="outer-basics">
        <form [formGroup]="segmentReportForm" (ngSubmit)="segmentViewReport()" class="ui form report-form">
          <div class="field">
            <div class="outer-basicForm">
              <div class="form-inner">
                <div class="fields first-field">
                  <!-- <div class="one wide field"></div> -->
                  <!-- <div class="three wide field" [ngClass]="{'error': ((submitted && f.selectDeparture.errors) && f.selectDeparture.errors.required) }"> -->
                  <div class="five wide field seg-field">
                    <label>Departure
                      <i class="fa fa-exclamation-circle tooltip">
                        <span class="tooltiptext">
                          Comma-separated list of airport code e.g. DXB, JED, LHR .Default ALL will be selected.
                        </span>
                      </i>
                    </label>
                    <select class="ui fluid search dropdownTwo multiple_search" formControlName="selectDeparture"
                      multiple=''>
                      <option class="item" *ngFor="let departure of departures" value="{{departure.AirportCode}}">
                        {{departure.AirportCode}}</option>
                    </select>
                  </div>
                  <!-- <div class="three wide field" [ngClass]="{'error': ((submitted && f.selectArrival.errors) && f.selectArrival.errors.required) }"> -->
                  <div class="five wide field seg-field">
                    <label>Arrival
                      <i class="fa fa-exclamation-circle tooltip">
                        <span class="tooltiptext">
                          Comma-separated list of airport code e.g. DXB, JED, LHR .Default ALL will be selected.
                        </span>
                      </i>
                    </label>
                    <select class="ui fluid search dropdownThree multiple_search" formControlName="selectArrival"
                      multiple=''>
                      <option class="item" *ngFor="let arrival of arrivals" value="{{arrival.AirportCode}}">
                        {{arrival.AirportCode}}</option>
                    </select>
                  </div>
                  <div class="six wide field prod-field"
                    [ngClass]="{'error': ((submitted && f.selectAirline.errors) && f.selectAirline.errors.required) }">
                    <label>Airline<span class="mandatory">*</span></label>
                    <select class="ui fluid search dropdown" formControlName="selectAirline" required>
                      <option value="">Airlines</option>
                      <option class="item" *ngFor="let airline of airlines" value="{{airline.name}}">{{airline.name}}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="fields last-field">
                  <!-- <div class="one wide field"></div> -->
                  <div class="five wide field bookings_pickers"
                    [ngClass]="{'error': ((submitted && f.segmentStartDate.errors) && f.segmentStartDate.errors.required) }">
                    <label>Start Date<span class="mandatory">*</span></label>
                    <div class="ui left icon input">
                      <input type="text" placeholder="Start Date" formControlName="segmentStartDate"
                        name="segmentStartDate" value="" required />
                      <i class="icon">
                        <i class="fa fa-calendar-o bookings_input__placeholder-icon cal" aria-hidden="true"></i>
                      </i>
                    </div>
                  </div>
                  <div class="five wide field bookings_pickers"
                    [ngClass]="{'error': ((submitted && f.segmentEndDate.errors) && f.segmentEndDate.errors.required) }">
                    <label>End Date<span class="mandatory">*</span></label>
                    <div class="ui left icon input">
                      <input type="text" placeholder="Start Date" formControlName="segmentEndDate" name="segmentEndDate"
                        value="" required />
                      <i class="icon">
                        <i class="fa fa-calendar-o bookings_input__placeholder-icon cal" aria-hidden="true"></i>
                      </i>
                    </div>
                  </div>
                  <div class="six wide field btn-wrapper">
                    <div class="bookings_btn-panel">
                      <button class="ui primary reset button" (click)="resetReport()" title="Reset">
                        <i class="undo icon"></i>
                      </button>
                      <button class="ui primary  button">
                        View Report
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
        <div class="result-block" *ngIf="bookingsLoader">
          <div class="ui segment b2c-list-user-table__segment-loader" *ngIf="bookingsLoader">
            <div class="ui active inverted dimmer">
              <div class="ui text loader">Loading Report ...</div>
            </div>
            <p></p>
          </div>
        </div>
        <div *ngIf="showSegmentReport" class="fields agent-name-booking">
          <!-- <p>{{booking.name}}</p> -->
          <div class="eight wide field ui small header">Segment Log</div>
          <!-- <div class="ui divider"></div> -->
          <!-- <div class="eight wide field bookings_btn-panel">
                        <button class="ui export button" (click)="exportData()" *ngIf="showSegmentReport" title="Export">
                            Export
                        </button>
                    </div> -->
        </div>
        <div class="result-block" *ngIf="showSegmentReport">
          <div class="user-table-list b2c-list-user-table" *ngIf="showSegmentReport">
            <ngx-datatable #table class='table' [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
              [rowHeight]="'auto'" [limit]="10" [rows]='NewSegment' [sortType]="'multi'" [reorderable]="true"
              [sorts]="[{prop: 'id', dir: 'desc'}]">
              <ngx-datatable-column name="Booked Date">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{row.trip_detail.booking.created |  date: 'dd/MM/yyyy'}}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Departure Date" prop="segment_departure_date">
                <ng-template ngx-datatable-cell-template let-value="value">{{value | date: 'dd/MM/yyyy'}}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Arrival Date" prop="segment_arrival_date">
                <ng-template ngx-datatable-cell-template let-value="value">{{value | date: 'dd/MM/yyyy'}}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Departure Airport" prop="segment_departure_airport_name">
              </ngx-datatable-column>
              <ngx-datatable-column name="Arrival Airport" prop="segment_arrival_airport_name">
              </ngx-datatable-column>
              <ngx-datatable-column name="Operating Airline Name" prop="segment_operating_airline_name">
              </ngx-datatable-column>
              <ngx-datatable-column name="Operating Airline Number" prop="segment_operating_flight_number">
              </ngx-datatable-column>
              <ngx-datatable-column name="Marketing Airline Name" prop="segment_marketing_airline_name">
              </ngx-datatable-column>
              <ngx-datatable-column name="Marketing Airline Number" prop="segment_marketing_flight_number">
              </ngx-datatable-column>
            </ngx-datatable>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>