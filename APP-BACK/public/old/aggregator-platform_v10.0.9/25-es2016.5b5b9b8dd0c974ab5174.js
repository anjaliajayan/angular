(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{DesC:function(t,e,o){"use strict";o.r(e);var n=o("ofXK"),i=o("3Pt+"),r=o("fXoL"),a=o("8laU"),c=o("KnqO"),s=o("5eHb"),b=o("/nqz"),l=o("tyNb"),d=o("UJtz"),p=o("lDzL");function g(t,e){if(1&t&&(r.Wb(0,"option",44),r.Jc(1),r.Vb()),2&t){const t=e.$implicit;r.qc("value",t.agent_code),r.Cb(1),r.Kc(t.name)}}function u(t,e){if(1&t&&(r.Wb(0,"option",44),r.Jc(1),r.Vb()),2&t){const t=e.$implicit;r.qc("value",t.supplier_id),r.Cb(1),r.Lc(" ",t.name,"")}}function m(t,e){1&t&&(r.Wb(0,"div",45),r.Wb(1,"div",46),r.Wb(2,"div",47),r.Jc(3,"Loading Report ..."),r.Vb(),r.Vb(),r.Rb(4,"p"),r.Vb())}function f(t,e){if(1&t){const t=r.Xb();r.Wb(0,"button",56),r.ec("click",(function(e){return r.Ac(t),r.ic(4).exportData()})),r.Jc(1," Export "),r.Vb()}}function h(t,e){if(1&t&&(r.Wb(0,"div",52),r.Wb(1,"div",53),r.Jc(2),r.Vb(),r.Wb(3,"div",54),r.Hc(4,f,2,0,"button",55),r.Vb(),r.Vb()),2&t){const t=r.ic(2).$implicit,e=r.ic();r.Cb(2),r.Kc(t.name),r.Cb(2),r.pc("ngIf",e.showDynamicReport)}}function _(t,e){1&t&&(r.Wb(0,"div"),r.Jc(1,"Flights"),r.Vb())}function k(t,e){1&t&&r.Hc(0,_,2,0,"div",48),2&t&&r.pc("ngIf",1==e.row.has_flight)}function C(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",72),r.ec("click",(function(o){r.Ac(t);const n=e.row;return r.ic(4).getBookingRefereceDetails(n,"custom-modal-booking")})),r.Wb(1,"a"),r.Jc(2),r.Vb(),r.Vb()}if(2&t){const t=e.row;r.Cb(2),r.Kc(t.trip_id)}}function v(t,e){if(1&t&&(r.Wb(0,"div"),r.Jc(1),r.Vb()),2&t){const t=r.ic().row;r.Cb(1),r.Lc(" ",t.commission," ")}}function V(t,e){1&t&&(r.Wb(0,"div"),r.Jc(1," 0.00 "),r.Vb())}const W=function(){return[]};function O(t,e){if(1&t&&(r.Hc(0,v,2,1,"div",48),r.Hc(1,V,2,0,"div",48)),2&t){const t=e.row;r.pc("ngIf",null!=t.commission||t.commission!=r.tc(2,W)),r.Cb(1),r.pc("ngIf",null!=t.commission||t.commission!=r.tc(3,W))}}function w(t,e){if(1&t&&(r.Wb(0,"div"),r.Jc(1),r.Vb()),2&t){const t=r.ic().row;r.Cb(1),r.Lc(" ",t.tax," ")}}function M(t,e){1&t&&(r.Wb(0,"div"),r.Jc(1," 0.00 "),r.Vb())}function x(t,e){if(1&t&&(r.Hc(0,w,2,1,"div",48),r.Hc(1,M,2,0,"div",48)),2&t){const t=e.row;r.pc("ngIf",null!=t.tax||t.tax!=r.tc(2,W)),r.Cb(1),r.pc("ngIf",null!=t.tax||t.tax!=r.tc(3,W))}}function P(t,e){if(1&t&&(r.Wb(0,"div"),r.jc(1,"lowercase"),r.Jc(2),r.Vb()),2&t){const t=e.row;r.Fb("recConfirm ",r.kc(1,4,t.booking_status),""),r.Cb(2),r.Kc(t.booking_status)}}function I(t,e){1&t&&(r.Jc(0),r.jc(1,"date")),2&t&&r.Lc("",r.lc(1,1,e.value,"dd/MM/yyyy")," ")}const D=function(){return{prop:"id",dir:"desc"}},J=function(t){return[t]};function R(t,e){if(1&t&&(r.Wb(0,"div",57),r.Wb(1,"ngx-datatable",58,59),r.Wb(3,"ngx-datatable-column",60),r.Hc(4,k,1,1,"ng-template",61),r.Vb(),r.Rb(5,"ngx-datatable-column",62),r.Wb(6,"ngx-datatable-column",63),r.Hc(7,C,3,1,"ng-template",61),r.Vb(),r.Rb(8,"ngx-datatable-column",64),r.Rb(9,"ngx-datatable-column",65),r.Rb(10,"ngx-datatable-column",66),r.Wb(11,"ngx-datatable-column",67),r.Hc(12,O,2,4,"ng-template",61),r.Vb(),r.Rb(13,"ngx-datatable-column",68),r.Wb(14,"ngx-datatable-column",69),r.Hc(15,x,2,4,"ng-template",61),r.Vb(),r.Wb(16,"ngx-datatable-column",70),r.Hc(17,P,3,6,"ng-template",61),r.Vb(),r.Wb(18,"ngx-datatable-column",71),r.Hc(19,I,2,4,"ng-template",61),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.ic(2).$implicit;r.Cb(1),r.pc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("rows",t.bookings)("sortType","multi")("reorderable",!0)("sorts",r.uc(10,J,r.tc(9,D)))}}function y(t,e){if(1&t&&(r.Ub(0),r.Hc(1,h,5,2,"div",49),r.Wb(2,"div",50),r.Hc(3,R,20,12,"div",51),r.Vb(),r.Tb()),2&t){const t=r.ic(2);r.Cb(1),r.pc("ngIf",t.showDynamicReport),r.Cb(2),r.pc("ngIf",t.showDynamicReport)}}function S(t,e){if(1&t&&(r.Ub(0),r.Hc(1,y,4,2,"ng-container",48),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.pc("ngIf",t.bookings.length)}}function L(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic().$implicit;r.Cb(1),r.Kc(t.trip_id)}}function H(t,e){1&t&&(r.Wb(0,"span"),r.Jc(1,"---"),r.Vb())}function A(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic().$implicit;r.Cb(1),r.Kc(t.ticket_number)}}function F(t,e){1&t&&(r.Wb(0,"span"),r.Jc(1,"---"),r.Vb())}function B(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic(3);r.Cb(1),r.Lc(" ",t.getInfo.passenger_detail.pax_first_name+" "+t.getInfo.passenger_detail.pax_middle_name+" "+t.getInfo.passenger_detail.pax_last_name," ")}}function E(t,e){1&t&&(r.Wb(0,"span"),r.Jc(1,"---"),r.Vb())}function j(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic(3);r.Cb(1),r.Lc(" ",t.getInfo.trip_detail.trip_departure_airport_name," ")}}function N(t,e){1&t&&r.Jc(0," no data ")}function T(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic(3);r.Cb(1),r.Lc(" ",t.getInfo.trip_detail.trip_arrival_airport_name," ")}}function z(t,e){1&t&&r.Jc(0," no data ")}function K(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic(3);r.Cb(1),r.Lc(" ",t.getInfo.trip_detail.trip_departure_date," ")}}function q(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic(3);r.Cb(1),r.Lc(" ",t.getInfo.trip_detail.trip_arrival_date," ")}}function U(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic(3);r.Cb(1),r.Lc(" ",t.getInfo.trip_detail.segment_detail.segment_seatingClass,"")}}function Y(t,e){1&t&&(r.Wb(0,"span"),r.Jc(1,"---"),r.Vb())}function X(t,e){if(1&t&&(r.Wb(0,"span"),r.Jc(1),r.Vb()),2&t){const t=r.ic(3);r.Cb(1),r.Lc(" ",t.getInfo.user.username,"")}}function Q(t,e){if(1&t&&(r.Wb(0,"tr"),r.Wb(1,"td"),r.Hc(2,L,2,1,"span",48),r.Hc(3,H,2,0,"span",48),r.Vb(),r.Wb(4,"td"),r.Hc(5,A,2,1,"span",48),r.Hc(6,F,2,0,"span",48),r.Vb(),r.Wb(7,"td"),r.Hc(8,B,2,1,"span",48),r.Hc(9,E,2,0,"span",48),r.Vb(),r.Wb(10,"td"),r.Hc(11,j,2,1,"span",82),r.Hc(12,N,1,0,"ng-template",null,83,r.Ic),r.Vb(),r.Wb(14,"td"),r.Hc(15,T,2,1,"span",82),r.Hc(16,z,1,0,"ng-template",null,84,r.Ic),r.Vb(),r.Wb(18,"td"),r.Jc(19),r.Vb(),r.Wb(20,"td"),r.Hc(21,K,2,1,"span",82),r.Vb(),r.Wb(22,"td"),r.Hc(23,q,2,1,"span",82),r.Vb(),r.Wb(24,"td"),r.Hc(25,U,2,1,"span",48),r.Hc(26,Y,2,0,"span",48),r.Vb(),r.Wb(27,"td"),r.Hc(28,X,2,1,"span",82),r.Vb(),r.Vb()),2&t){const t=e.$implicit,o=r.yc(13),n=r.yc(17),i=r.ic(2);r.Cb(2),r.pc("ngIf",t.trip_id),r.Cb(1),r.pc("ngIf",!t.trip_id),r.Cb(2),r.pc("ngIf",t.ticket_number),r.Cb(1),r.pc("ngIf",!t.ticket_number),r.Cb(2),r.pc("ngIf",i.getInfo.passenger_detail),r.Cb(1),r.pc("ngIf",!i.getInfo.passenger_detail),r.Cb(2),r.pc("ngIf",null!=i.getInfo.trip_detail.trip_departure_airport_name)("ngIfElse",o),r.Cb(4),r.pc("ngIf",null!=i.getInfo.trip_detail.trip_arrival_airport_name)("ngIfElse",n),r.Cb(4),r.Lc(" ",t.service_name," "),r.Cb(2),r.pc("ngIf",null!=i.getInfo.trip_detail.trip_departure_date)("ngIfElse",o),r.Cb(2),r.pc("ngIf",null!=i.getInfo.trip_detail.trip_arrival_date)("ngIfElse",n),r.Cb(2),r.pc("ngIf",t.trip_detail),r.Cb(1),r.pc("ngIf",!t.trip_detail),r.Cb(2),r.pc("ngIf",null!=i.getInfo.user)("ngIfElse",o)}}function G(t,e){1&t&&(r.Wb(0,"h4",76),r.Wb(1,"span",77),r.Jc(2,"EMD INFORMATIONS"),r.Vb(),r.Vb())}function Z(t,e){1&t&&(r.Wb(0,"h4",76),r.Wb(1,"span",85),r.Jc(2,"NOT AVAILABLE EMD INFORMATIONS"),r.Vb(),r.Vb())}function tt(t,e){if(1&t&&(r.Wb(0,"tr"),r.Wb(1,"td"),r.Jc(2),r.Vb(),r.Wb(3,"td"),r.Jc(4),r.Vb(),r.Wb(5,"td"),r.Jc(6),r.Vb(),r.Wb(7,"td"),r.Jc(8),r.Vb(),r.Wb(9,"td"),r.Jc(10),r.Vb(),r.Vb()),2&t){const t=e.$implicit;r.Cb(2),r.Kc(t.emd_number),r.Cb(2),r.Kc(t.reason_for_issuance_subcode),r.Cb(2),r.Kc(t.remarks),r.Cb(2),r.Kc(t.amount),r.Cb(2),r.Kc(t.code)}}function et(t,e){if(1&t&&(r.Wb(0,"table",79),r.Wb(1,"thead"),r.Wb(2,"tr"),r.Wb(3,"th"),r.Jc(4,"EMD NUMBER"),r.Vb(),r.Wb(5,"th"),r.Jc(6,"REASON FOR INSURANCE SUBCODE"),r.Vb(),r.Wb(7,"th"),r.Jc(8,"REMARKS"),r.Vb(),r.Wb(9,"th"),r.Jc(10,"AMOUNT"),r.Vb(),r.Wb(11,"th"),r.Jc(12,"CODE"),r.Vb(),r.Vb(),r.Vb(),r.Wb(13,"tbody"),r.Hc(14,tt,11,5,"tr",41),r.Vb(),r.Vb()),2&t){const t=r.ic(2);r.Cb(14),r.pc("ngForOf",t.emdDetails)}}function ot(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",73),r.Rb(1,"div",74),r.Wb(2,"div",10),r.Wb(3,"div",75),r.Wb(4,"h4",76),r.Wb(5,"span",77),r.Jc(6,"BOOKING INFORMATIONS"),r.Vb(),r.Vb(),r.Wb(7,"i",78),r.ec("click",(function(e){return r.Ac(t),r.ic().closeModal("custom-modal-booking")})),r.Vb(),r.Vb(),r.Wb(8,"div",75),r.Wb(9,"div",13),r.Wb(10,"table",79),r.Wb(11,"thead"),r.Wb(12,"tr"),r.Wb(13,"th"),r.Jc(14,"Trip ID"),r.Vb(),r.Wb(15,"th"),r.Jc(16,"Ticket Number"),r.Vb(),r.Wb(17,"th"),r.Jc(18,"Lead Name"),r.Vb(),r.Wb(19,"th"),r.Jc(20,"Departure Airport"),r.Vb(),r.Wb(21,"th"),r.Jc(22,"Arrival Airport"),r.Vb(),r.Wb(23,"th"),r.Jc(24,"Service Name"),r.Vb(),r.Wb(25,"th"),r.Jc(26,"Departure Date"),r.Vb(),r.Wb(27,"th"),r.Jc(28,"Arrival Date"),r.Vb(),r.Wb(29,"th"),r.Jc(30,"Board Type"),r.Vb(),r.Wb(31,"th"),r.Jc(32,"Staff/User"),r.Vb(),r.Vb(),r.Vb(),r.Wb(33,"tbody"),r.Hc(34,Q,29,19,"tr",41),r.Vb(),r.Vb(),r.Hc(35,G,3,0,"h4",80),r.Hc(36,Z,3,0,"h4",80),r.Hc(37,et,15,1,"table",81),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.ic();r.Cb(34),r.pc("ngForOf",t.newFilteredData),r.Cb(1),r.pc("ngIf",t.showEMDtable),r.Cb(1),r.pc("ngIf",!t.showEMDtable),r.Cb(1),r.pc("ngIf",t.showEMDtable)}}const nt=function(t){return{error:t}},it=[{path:"",component:(()=>{class t{constructor(t,e,o,n,r){this.fb=t,this.ReportService=e,this.modalService=o,this.toastr=n,this.excelService=r,this.agents=[],this.products=[],this.suppliers=[],this.newBookingReportObj={},this.showDynamicReport=!1,this.disable=!0,this.dropdownSettings={},this.FilteredBookingReport=[],this.allBookings=[],this.reports=[],this.newFilteredData=[],this.tickets=[],this.supplierNames=[],this.emdDetails=[],this.submitted=!1,this.showDetailModal=!1,this.bookingsLoader=!1,this.bookingReportForm=this.fb.group({selectAgent:[""],selectProduct:["",[i.z.required]],selectSupplier:[""],bookingStartDate:["",[i.z.required]],bookingEndDate:["",[i.z.required]]}),this.viewReport=()=>{this.bookingsLoader=!0,this.submitted=!0,this.bookingReportForm.invalid?this.bookingsLoader=!1:(this.showDynamicReport=!0,this.newBookingReportObj.agent_codes=this.bookingReportForm.get("selectAgent").value,this.newBookingReportObj.product=this.bookingReportForm.get("selectProduct").value,this.newBookingReportObj.supplier_id=this.bookingReportForm.get("selectSupplier").value,this.newBookingReportObj.start_date=this.bookingReportForm.get("bookingStartDate").value,this.newBookingReportObj.end_date=this.bookingReportForm.get("bookingEndDate").value,this.ReportService.searchReportBooking(this.newBookingReportObj).subscribe(t=>{"data"==t.type?(this.bookingsLoader=!1,0!=t.Data.length?this.allBookings=t.Data:(this.bookingsLoader=!1,this.toastr.info("Sorry!!","There is no data available to display",{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}))):(this.bookingsLoader=!1,this.toastr.error(`${t.msg}`,`${t.msg}`,{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}))}))},this.resetReport=()=>{this.bookingReportForm.reset(),$(".ui.dropdown").dropdown("clear"),this.showDynamicReport=!1,this.bookingsLoader=!1},this.dropdownSettings={singleSelection:!1,idField:"sub_code",textField:"commercial_name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0}}get f(){return this.bookingReportForm.controls}ngOnInit(){this.fetchAllAgents(),this.fetchAllProducts(),this.fetchAllSuppliers()}ngAfterViewInit(){$(document).ready((function(){$(".menu .item").tab(),$(".ui.dropdown").dropdown(),$(".dropdownOne").dropdown({placeholder:"Choose agents"})})),this.loadEndDate(),this.loadStartDate()}loadStartDate(){var t=this;$((function(){$('input[name="bookingStartDate"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1980,startDate:moment(),maxDate:moment(),autoUpdateInput:!1},(function(e,o,n){moment().diff(e,"years"),t.bookingReportForm.get("bookingStartDate").setValue(moment(e).format("YYYY-MM-DD"))}))}))}loadEndDate(){var t=this;$((function(){$('input[name="bookingEndDate"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1901,startDate:moment(),autoUpdateInput:!1},(function(e,o,n){moment().diff(e,"years"),t.bookingReportForm.get("bookingEndDate").setValue(moment(e).format("YYYY-MM-DD"))}))}))}fetchAllAgents(){this.bookingsLoader=!0,this.ReportService.GetAllAgents().subscribe(t=>{"error"!=t.type?0!=t.Organization.length?(this.agents=t.Organization,this.bookingsLoader=!1):(this.bookingsLoader=!1,this.toastr.info("There is no agents available","",{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})):this.toastr.error(`${t.msg}`,`${t.msg}`,{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})})}fetchAllProducts(){this.bookingsLoader=!0,this.ReportService.GetAllProducts().subscribe(t=>{if("error"!=t.type)if(this.bookingsLoader=!1,0!=t.Data.length){var e=t.Data,o=Object.keys(t.Data);for(let t=0;t<o.length;t++){const n=o[t];1==e[n]&&this.products.push(n)}}else this.bookingsLoader=!1,this.toastr.info("There is no products available ","",{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"});else this.toastr.error(`${t.msg}`,`${t.msg}`,{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})})}fetchAllSuppliers(){this.bookingsLoader=!0,this.ReportService.GetAllSuppliers().subscribe(t=>{t.status?(this.bookingsLoader=!1,0!=t.result.length?(this.suppliers=t.result.filter(t=>""!==t.name),this.suppliers=t.result):(this.bookingsLoader=!1,this.toastr.info("There is no suppliers","",{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}))):this.toastr.error(`${t.message}`,"",{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})})}getBookingRefereceDetails(t,e){this.ReportService.getFlightBookingDetails(t.trip_id).subscribe(t=>{"error"!=t.type?(this.getInfo=t,this.newFilteredData=t.bookings_flights,this.newFilteredData.length&&this.newFilteredData.map((e,o)=>{null!=t.bookings_flights[o]&&(e.service_name=t.bookings_flights[o].supplier.name,e.trip_id=t.trip_id,null!=t.bookings_flights[o].flight_tickets[o]&&(e.ticket_number=t.bookings_flights[o].flight_tickets[o].ticket_number))}),this.showDetailModal=!0,this.modalService.open(e)):this.toastr.error(`${t.msg}`,`${t.msg}`,{timeOut:1e4,progressBar:!1,positionClass:"toast-bottom-right"})})}closeModal(t){this.modalService.close(t)}exportData(){console.log(this.newBookingReportObj),this.ReportService.exportBooking(this.newBookingReportObj).subscribe(t=>{"error"!=t.type?this.excelService.exportAsExcelFile(t.data,"bookings"):this.toastr.error(`${t.msg}`,`${t.msg}`,{timeOut:1e4,progressBar:!1,positionClass:"toast-bottom-right"})})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(i.f),r.Qb(a.a),r.Qb(c.b),r.Qb(s.b),r.Qb(b.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-booking-report"]],decls:81,vars:15,consts:[[1,"ui","top","attached","tabular","menu"],["data-tab","first","routerLink","/report/booking-report",1,"item","active"],["data-tab","second","routerLink","/report/segment-report",1,"item"],["data-tab","third","routerLink","/report/mis-report",1,"item"],["data-tab","fourth","routerLink","/report/search-log-report",1,"item"],["data-tab","fifth","routerLink","/report/audit-report",1,"item"],["data-tab","sixth","routerLink","/report/ticket-report",1,"item"],["data-tab","seventh","routerLink","/report/dynamic-report",1,"item"],["data-tab","first",1,"ui","bottom","attached","tab","segment","active","tabContent-block"],[1,"ui","segment"],[1,"ui","fluid","container"],[1,"outer-forms","booking"],[1,"ui","form","report-form",3,"formGroup","ngSubmit"],[1,"field"],[1,"fields"],[1,"five","wide","field"],["formControlName","selectAgent","multiple","",1,"ui","fluid","search","dropdownOne","multiple_search"],["class","item",3,"value",4,"ngFor","ngForOf"],[1,"five","wide","field",3,"ngClass"],[1,"mandatory"],["formControlName","selectProduct","required","",1,"ui","fluid","search","dropdown"],["value",""],["value","flights",1,"item"],["value","cars",1,"item"],["value","hotel",1,"item"],["value","insurance",1,"item"],["value","transfer",1,"item"],["value","activity",1,"item"],[1,"four","wide","field"],["formControlName","selectSupplier",1,"ui","fluid","search","dropdown"],[1,"five","wide","field","bookings_pickers",3,"ngClass"],[1,"ui","left","icon","input"],["type","text","placeholder","Start Date","formControlName","bookingStartDate","name","bookingStartDate","value","","required",""],[1,"icon"],["src","./../../../../assets/icons/calendar.svg",1,"bookings_input__placeholder-icon","cal"],["type","text","placeholder","End Date","formControlName","bookingEndDate","name","bookingEndDate","value","","required",""],[1,"bookings_btn-panel"],["title","Reset",1,"ui","primary","reset","button",3,"click"],[1,"undo","icon"],[1,"ui","primary","button"],["class","ui segment b2c-list-user-table__segment-loader",4,"ngIf"],[4,"ngFor","ngForOf"],["id","custom-modal-booking",1,"report-booking-modal"],["class","ui",4,"ngIf"],[1,"item",3,"value"],[1,"ui","segment","b2c-list-user-table__segment-loader"],[1,"ui","active","inverted","dimmer"],[1,"ui","text","loader"],[4,"ngIf"],["class","fields agent-name-booking",4,"ngIf"],[1,"result-block"],["class","user-table-list b2c-list-user-table",4,"ngIf"],[1,"fields","agent-name-booking"],[1,"eight","wide","field","ui","small","header"],[1,"eight","wide","field","bookings_btn-panel"],["class","ui export button","title","Export",3,"click",4,"ngIf"],["title","Export",1,"ui","export","button",3,"click"],[1,"user-table-list","b2c-list-user-table"],[1,"table",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","sortType","reorderable","sorts"],["table{i}",""],["name","Product"],["ngx-datatable-cell-template",""],["name","Agent Code","prop","agent_code"],["name","Trip ID"],["name","Supplier","prop","suppliers"],["name","Supplier Conf No","prop","pnr_no"],["name","Supplier Amount","prop","supplier_price"],["name","Commission Amount"],["name","Sale Amount","prop","amount"],["name","Tax"],["name","Booking Status"],["name","Booked Date","prop","created"],[3,"click"],[1,"ui"],[1,"header"],[1,"form-inner"],[1,"ui","header"],[1,"basic-header","head"],[1,"close","icon",3,"click"],[1,"ui","celled","table"],["class","ui  header",4,"ngIf"],["class","ui celled table",4,"ngIf"],[4,"ngIf","ngIfElse"],["departure",""],["arrival",""],[1,"basic-header"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Jc(2," Booking "),r.Vb(),r.Wb(3,"div",2),r.Jc(4," Segment"),r.Vb(),r.Wb(5,"div",3),r.Jc(6,"MIS"),r.Vb(),r.Wb(7,"div",4),r.Jc(8,"Search Log"),r.Vb(),r.Wb(9,"div",5),r.Jc(10,"Audit Trail Log"),r.Vb(),r.Wb(11,"div",6),r.Jc(12,"Ticket "),r.Vb(),r.Wb(13,"div",7),r.Jc(14,"Dynamic Report"),r.Vb(),r.Vb(),r.Wb(15,"div",8),r.Wb(16,"div",9),r.Wb(17,"div",10),r.Wb(18,"div",11),r.Wb(19,"form",12),r.ec("ngSubmit",(function(t){return e.viewReport()})),r.Wb(20,"div",13),r.Wb(21,"div",14),r.Wb(22,"div",15),r.Wb(23,"label"),r.Jc(24,"Choose Agent"),r.Vb(),r.Wb(25,"select",16),r.Hc(26,g,2,2,"option",17),r.Vb(),r.Vb(),r.Wb(27,"div",18),r.Wb(28,"label"),r.Jc(29,"Choose Product"),r.Wb(30,"span",19),r.Jc(31,"*"),r.Vb(),r.Vb(),r.Wb(32,"select",20),r.Wb(33,"option",21),r.Jc(34,"Choose Product"),r.Vb(),r.Wb(35,"option",22),r.Jc(36,"Flights"),r.Vb(),r.Wb(37,"option",23),r.Jc(38,"Cars"),r.Vb(),r.Wb(39,"option",24),r.Jc(40,"hotel"),r.Vb(),r.Wb(41,"option",25),r.Jc(42,"Insurance"),r.Vb(),r.Wb(43,"option",26),r.Jc(44,"Transfer"),r.Vb(),r.Wb(45,"option",27),r.Jc(46,"activity"),r.Vb(),r.Vb(),r.Vb(),r.Wb(47,"div",28),r.Wb(48,"label"),r.Jc(49,"Choose Supplier"),r.Vb(),r.Wb(50,"select",29),r.Hc(51,u,2,2,"option",17),r.Vb(),r.Vb(),r.Vb(),r.Wb(52,"div",14),r.Wb(53,"div",30),r.Wb(54,"label"),r.Jc(55,"Start Date"),r.Wb(56,"span",19),r.Jc(57,"*"),r.Vb(),r.Vb(),r.Wb(58,"div",31),r.Rb(59,"input",32),r.Wb(60,"i",33),r.Rb(61,"img",34),r.Vb(),r.Vb(),r.Vb(),r.Wb(62,"div",30),r.Wb(63,"label"),r.Jc(64,"End Date"),r.Wb(65,"span",19),r.Jc(66,"*"),r.Vb(),r.Vb(),r.Wb(67,"div",31),r.Rb(68,"input",35),r.Wb(69,"i",33),r.Rb(70,"img",34),r.Vb(),r.Vb(),r.Vb(),r.Wb(71,"div",15),r.Wb(72,"div",36),r.Wb(73,"button",37),r.ec("click",(function(t){return e.resetReport()})),r.Rb(74,"i",38),r.Vb(),r.Wb(75,"button",39),r.Jc(76," View Report "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Hc(77,m,5,0,"div",40),r.Hc(78,S,2,1,"ng-container",41),r.Vb(),r.Vb(),r.Vb(),r.Wb(79,"jw-modal",42),r.Hc(80,ot,38,4,"div",43),r.Vb(),r.Vb()),2&t&&(r.Cb(19),r.pc("formGroup",e.bookingReportForm),r.Cb(7),r.pc("ngForOf",e.agents),r.Cb(1),r.pc("ngClass",r.uc(9,nt,e.submitted&&e.f.selectProduct.errors&&e.f.selectProduct.errors.required)),r.Cb(24),r.pc("ngForOf",e.suppliers),r.Cb(2),r.pc("ngClass",r.uc(11,nt,e.submitted&&e.f.bookingStartDate.errors&&e.f.bookingStartDate.errors.required)),r.Cb(9),r.pc("ngClass",r.uc(13,nt,e.submitted&&e.f.bookingEndDate.errors&&e.f.bookingEndDate.errors.required)),r.Cb(15),r.pc("ngIf",e.bookingsLoader),r.Cb(1),r.pc("ngForOf",e.allBookings),r.Cb(2),r.pc("ngIf",e.showDetailModal))},directives:[l.g,i.B,i.p,i.i,i.y,i.o,i.h,n.o,n.n,i.x,i.w,i.s,i.A,i.c,n.p,d.a,p.c,p.b,p.a],pipes:[n.m,n.f],styles:[".bookings_pickers[_ngcontent-%COMP%]   .input.bookings_datepicker[_ngcontent-%COMP%]{min-width:120px;max-width:138px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .ui.basic.floating.button[_ngcontent-%COMP%]{padding:10px!important;color:hsla(0,0%,59.6%,.6)!important;font-weight:300!important;line-height:11px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:1;z-index:1}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .bookings_input__placeholder-icon[_ngcontent-%COMP%]{width:24px;margin-top:6px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .bookings_input__placeholder-icon.cal[_ngcontent-%COMP%]{width:18px;margin-top:10px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .search.dropdown[_ngcontent-%COMP%]{width:218px;border-right:0;border-top-left-radius:5px;border-bottom-left-radius:5px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .search.dropdown[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-left:42px!important}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .search.dropdown[_ngcontent-%COMP%]   .default.text[_ngcontent-%COMP%]{font-size:12px;margin-right:0!important;padding:8px 0 0 38px!important}.tab.segment[_ngcontent-%COMP%]{box-shadow:3px 3px 4px 0 rgba(0,0,0,.4)}.ui.top.attached.tabular.menu[_ngcontent-%COMP%]{margin:24px 0}.ui.top.attached.menu[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]{border-radius:.28571429rem 0 0 0;border-top-right-radius:15px!important}.booking-report-header[_ngcontent-%COMP%]{position:relative;left:32%;color:rgba(0,0,0,.48);font-family:Roboto,sans-serif;font-weight:200}.outer-form.booking[_ngcontent-%COMP%]{margin-top:40px}.recConfirm[_ngcontent-%COMP%]{height:18px;width:62px;margin:0;background-color:#72d44f;color:#fff;font-size:11px;text-align:center;line-height:18px;border-radius:12px}.recConfirm.hold[_ngcontent-%COMP%]{background-color:#dec66b}.recConfirm.void[_ngcontent-%COMP%]{background-color:#797979}.recConfirm.cancel[_ngcontent-%COMP%]{background-color:#b13838}.recConfirm.refund[_ngcontent-%COMP%]{background-color:#3867b1}.recConfirm.failed[_ngcontent-%COMP%]{background-color:#b13838}.b2c-list-user-table__segment-loader[_ngcontent-%COMP%]{height:450px;background-color:#fff!important;border:0;box-shadow:none}.b2c-list-user-table__segment-loader[_ngcontent-%COMP%]   .ui.inverted.dimmer[_ngcontent-%COMP%]{background-color:transparent!important}.b2c-list-user-table__segment-loader[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{font-size:12px;color:#3867b1}.ui.form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-style:normal;font-weight:500;font-size:13px;line-height:13px;color:#181b20;margin:0 0 8px}.bookings_btn-panel[_ngcontent-%COMP%]{padding:20px 2px}.eight.field.bookings_btn-panel[_ngcontent-%COMP%]{padding:0;text-align:right}.agent-name-booking[_ngcontent-%COMP%]{margin:auto 24px!important}.agent-name-booking[_ngcontent-%COMP%]   .eight.wide.field[_ngcontent-%COMP%]{padding:0}.agent-name-booking[_ngcontent-%COMP%]   .eight.wide.field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0}.five.wide.field[_ngcontent-%COMP%]{padding-bottom:16px}.ui.attached.segment.tabContent-block[_ngcontent-%COMP%]   .ui.segment[_ngcontent-%COMP%]   .report-form[_ngcontent-%COMP%]{padding:24px;margin-bottom:24px}.ui.attached.segment.tabContent-block[_ngcontent-%COMP%]   .ui.segment[_ngcontent-%COMP%]   .report-form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]:last-child{margin-bottom:0}.ui.attached.segment.tabContent-block[_ngcontent-%COMP%]   .ui.segment[_ngcontent-%COMP%]   .report-form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]:last-child   .five.wide.field[_ngcontent-%COMP%]{padding-bottom:0}.bookings_btn-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 6px}"]}),t})()}];let rt=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[l.j.forChild(it)],l.j]}),t})();var at=o("eqAM");o.d(e,"BookingReportModule",(function(){return ct}));let ct=(()=>{class t{constructor(t){this.reportService=t}ngOnInit(){}}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)(r.ac(a.a))},providers:[b.a],imports:[[n.c,p.d,i.v,rt,c.a,at.a]]}),t})()},KnqO:function(t,e,o){"use strict";var n=o("ofXK"),i=o("fXoL");let r=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})();var a=o("n6zg");o.d(e,"a",(function(){return r})),o.d(e,"b",(function(){return a.a}))},UJtz:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o("fXoL"),i=o("n6zg");const r=["*"];let a=(()=>{class t{constructor(t,e){this.modalService=t,this.el=e,this.element=e.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",t=>{"jw-modal"===t.target.className&&this.close()}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("jw-modal-open")}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(i.a),n.Qb(n.l))},t.\u0275cmp=n.Kb({type:t,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:r,decls:4,vars:0,consts:[[1,"jw-modal"],[1,"jw-modal-body"],[1,"jw-modal-background"]],template:function(t,e){1&t&&(n.oc(),n.Wb(0,"div",0),n.Wb(1,"div",1),n.nc(2),n.Vb(),n.Vb(),n.Rb(3,"div",2))},styles:["jw-modal{display:none}jw-modal .jw-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{padding:20px;background:#fff;margin:40px}jw-modal .jw-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.75;z-index:900}body.jw-modal-open{overflow:hidden}"],encapsulation:2}),t})()},n6zg:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var n=o("fXoL");let i=(()=>{class t{constructor(){this.modals=[]}add(t){this.modals.push(t)}remove(t){this.modals=this.modals.filter(e=>e.id!==t)}open(t){this.modals.find(e=>e.id===t).open()}close(t){this.modals.find(e=>e.id===t).close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);