(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{IA8y:function(t,e,n){"use strict";n.r(e);var o=n("ofXK"),i=n("lDzL"),a=n("QUrN"),r=n("3Pt+"),l=n("fXoL"),s=n("XE7E"),c=n("5eHb"),m=n("KnqO"),d=n("UJtz"),p=n("eIsa");function b(t,e){1&t&&(l.Jc(0),l.jc(1,"date")),2&t&&l.Lc("",l.lc(1,1,e.value,"dd/MM/yyyy")," ")}function u(t,e){1&t&&(l.Wb(0,"span",18),l.Wb(1,"i",19),l.Rb(2,"img",20),l.Vb(),l.Vb())}function g(t,e){1&t&&(l.Wb(0,"span",21),l.Wb(1,"i",19),l.Rb(2,"img",22),l.Vb(),l.Vb())}function f(t,e){if(1&t&&(l.Hc(0,u,3,0,"span",16),l.Hc(1,g,3,0,"span",17)),2&t){const t=e.value;l.pc("ngIf",1==t),l.Cb(1),l.pc("ngIf",1!=t)}}function h(t,e){if(1&t){const t=l.Xb();l.Wb(0,"a"),l.Wb(1,"i",23),l.ec("click",(function(n){l.Ac(t);const o=e.value;return l.ic().editTemplate(o,"custom-modal-1")})),l.Vb(),l.Vb()}}function _(t,e){1&t&&(l.Wb(0,"div"),l.Jc(1," Please enter template description "),l.Vb())}const O=function(t){return{error:t}};function C(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",24),l.Wb(1,"i",25),l.ec("click",(function(e){return l.Ac(t),l.ic().closeModal("custom-modal-1")})),l.Vb(),l.Wb(2,"div",26),l.Jc(3," Email Template Form "),l.Vb(),l.Wb(4,"div",27),l.Wb(5,"div",28),l.Wb(6,"form",29),l.ec("ngSubmit",(function(e){return l.Ac(t),l.ic().updateTemplate("custom-modal-1")})),l.Wb(7,"div",28),l.Wb(8,"div",30),l.Wb(9,"div",31),l.Wb(10,"label"),l.Jc(11,"Email Template Name"),l.Vb(),l.Rb(12,"input",32),l.Vb(),l.Wb(13,"div",33),l.Rb(14,"ckeditor",34),l.Hc(15,_,2,0,"div",35),l.Vb(),l.Vb(),l.Wb(16,"div",30),l.Wb(17,"div",36),l.Wb(18,"button",37),l.Jc(19," Update "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.ic();l.Cb(6),l.pc("formGroup",t.templateForm),l.Cb(3),l.pc("ngClass",l.uc(3,O,t.submitted&&t.f.email_template_name.errors&&t.f.email_template_name.errors.required)),l.Cb(6),l.pc("ngIf",t.submitted&&t.f.email_template_description.errors&&t.f.email_template_description.errors.required)}}const M=function(){return{prop:"id",dir:"desc"}},P=function(t){return[t]};let v=(()=>{class t{constructor(t,e,n,o){this.ListOfEmailrService=t,this.fb=e,this.toastr=n,this.modalService=o,this.limit=15,this.pageIndex=1,this.NewListOfEmails=[],this.totalListOfEmails=0,this.pages=0,this.submitted=!1,this.showDetailModal=!1}ngOnInit(){this.fetchAllListOfEmails(this.limit,this.pageIndex),this.templateForm=this.fb.group({email_template_id:["",[r.z.required]],email_template_name:["",[r.z.required]],email_template_description:["",[r.z.required]]})}get f(){return this.templateForm.controls}fetchAllListOfEmails(t,e){this.ListOfEmailrService.GetAllEmails(0,t,e).subscribe(t=>{200==t.status?0!=t.email.length?(this.totalListOfEmails=t.email,this.pages=this.totalListOfEmails/this.limit,this.NewListOfEmails=t.email):this.toastr.info("There is no data available to display","",{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}):this.toastr.error(`${t.msg}`,`${t.msg}`,{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})})}editTemplate(t,e){this.submitted=!1,this.ListOfEmailrService.getEmailInfo(t).subscribe(t=>{"error"!=t.type?(this.getInfo=t.data,this.showDetailModal=!0,this.templateForm.patchValue({email_template_id:t.data.email_template_id,email_template_name:t.data.email_template_name,email_template_description:t.data.email_template_description}),this.modalService.open(e)):this.toastr.error(`${t.msg}`,`${t.msg}`,{timeOut:1e4,progressBar:!1,positionClass:"toast-bottom-right"})})}updateTemplate(t){this.submitted=!0,this.templateForm.invalid||this.ListOfEmailrService.updateTemplate(this.templateForm.value).subscribe(e=>{"error"==e.type?this.toastr.error(`${e.msg}`,`${e.msg}`,{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}):(this.toastr.info(`${e.msg}`,`${e.msg}`,{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}),this.fetchAllListOfEmails(this.limit,this.pageIndex),this.modalService.close(t))})}closeModal(t){this.modalService.close(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(s.a),l.Qb(r.f),l.Qb(c.b),l.Qb(m.b))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-email-templates"]],decls:20,vars:13,consts:[[1,"update-header"],[1,"ui","fluid","container"],[1,"outer-basic","result-block"],[1,"outer-basicForm"],[1,"ui","form"],[1,"email-list","b2c-list-user-table"],[1,"table",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","sortType","reorderable","sorts"],["table",""],["name","Name","prop","email_template_name"],["name","Function","prop","email_template_function"],["name","Created Date","prop","created_at"],["ngx-datatable-cell-template",""],["name","status","prop","status"],["name","Action","prop","email_template_id"],["id","custom-modal-1",1,"emailTemplateModal"],["class","ui",4,"ngIf"],["title","Active",4,"ngIf"],["title","Inactive",4,"ngIf"],["title","Active"],[1,"icon"],["src","./../../../../../assets/icons/checkmark.png",1,"bookings_input__placeholder-icon","cal"],["title","Inactive"],["src","./../../../../../assets/icons/crossX.png",1,"bookings_input__placeholder-icon","cal"],["title","View Template",1,"eye","icon","eye-icon",3,"click"],[1,"ui"],[1,"close","icon",3,"click"],[1,"header"],[1,"ui","container"],[1,"form-inner"],[1,"ui","form",3,"formGroup","ngSubmit"],[1,"fields"],[1,"field",3,"ngClass"],["type","text","name","email_template_name","formControlName","email_template_name","placeholder","Email Template Name"],[1,"field","ckEditor-area"],["data","","formControlName","email_template_description"],[4,"ngIf"],[1,"bookings_btn-panel"],[1,"ui","primary","button"]],template:function(t,e){1&t&&(l.Wb(0,"h3"),l.Wb(1,"span",0),l.Jc(2,"Email templates"),l.Vb(),l.Vb(),l.Wb(3,"div",1),l.Wb(4,"div",2),l.Wb(5,"div",3),l.Wb(6,"div",4),l.Wb(7,"div",5),l.Wb(8,"ngx-datatable",6,7),l.Rb(10,"ngx-datatable-column",8),l.Rb(11,"ngx-datatable-column",9),l.Wb(12,"ngx-datatable-column",10),l.Hc(13,b,2,4,"ng-template",11),l.Vb(),l.Wb(14,"ngx-datatable-column",12),l.Hc(15,f,2,2,"ng-template",11),l.Vb(),l.Wb(16,"ngx-datatable-column",13),l.Hc(17,h,2,0,"ng-template",11),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(18,"jw-modal",14),l.Hc(19,C,20,5,"div",15),l.Vb(),l.Vb()),2&t&&(l.Cb(8),l.pc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("rows",e.NewListOfEmails)("sortType","multi")("reorderable",!0)("sorts",l.uc(11,P,l.tc(10,M))),l.Cb(11),l.pc("ngIf",e.showDetailModal))},directives:[i.c,i.b,i.a,d.a,o.p,r.B,r.p,r.i,o.n,r.c,r.o,r.h,p.a],pipes:[o.f],styles:[".update-header[_ngcontent-%COMP%]{margin-left:24px;font-style:normal;font-weight:700!important;font-size:20px;line-height:23px;color:#181b20}.ui.fluid.container[_ngcontent-%COMP%]{padding:25px}.outer-basic[_ngcontent-%COMP%]{background-color:#fff;box-shadow:3px 1px 4px 0 rgba(0,0,0,.4);border-radius:20px}.outer-basicForm[_ngcontent-%COMP%]{width:100%;height:auto;padding:30px 15px}.icon[_ngcontent-%COMP%]{opacity:1;z-index:100}.icon[_ngcontent-%COMP%]   .bookings_input__placeholder-icon[_ngcontent-%COMP%]{width:24px}.icon[_ngcontent-%COMP%]   .bookings_input__placeholder-icon.cal[_ngcontent-%COMP%]{width:18px}.icon[_ngcontent-%COMP%]   .bookings_input__placeholder-icon.call[_ngcontent-%COMP%]{width:10px;margin-top:10px}.close.icon[_ngcontent-%COMP%]{float:right;cursor:pointer}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]{display:block}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{padding:1em 0}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:38px;border:none!important;border:1px solid rgba(6,40,98,.2)!important;background-color:#fff;border-radius:5.12155px!important;color:rgba(6,40,98,.9)!important}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:rgba(6,40,98,.4)}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:rgba(6,40,98,.4)}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:rgba(6,40,98,.4)}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:rgba(6,40,98,.4)}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{border:1px solid rgba(6,40,98,.4)!important}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #437ada!important}.form-inner[_ngcontent-%COMP%]   .ui.form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   .bookings_btn-panel[_ngcontent-%COMP%]{text-align:right}.header[_ngcontent-%COMP%]{margin:10px 24px;font-weight:600;font-size:20px;line-height:23px;color:#181b20}.ui.form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-style:normal;font-weight:500;font-size:13px;line-height:13px;color:#181b20;margin:0 0 8px}.ui.form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%] > .checkbox-field[_ngcontent-%COMP%], .ui.form[_ngcontent-%COMP%]   .three.wide.field[_ngcontent-%COMP%]{margin-bottom:16px}.ui.fluid.container[_ngcontent-%COMP%]{padding:0!important;background:none}.ui.fluid.container[_ngcontent-%COMP%]   .outer-basicForm[_ngcontent-%COMP%]{padding:0}@media(max-width:1280px){.update-header[_ngcontent-%COMP%]{margin-left:20px}}"]}),t})();var w=n("tyNb");const x=[{path:"",component:v}];let y=(()=>{class t{}return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(e){return new(e||t)},imports:[[w.j.forChild(x)],w.j]}),t})();var V=n("eqAM");n.d(e,"EmailTemplatesModule",(function(){return W}));let W=(()=>{class t{}return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(e){return new(e||t)},imports:[[o.c,i.d,a.c,y,r.v,p.b,m.a,V.a]]}),t})()},KnqO:function(t,e,n){"use strict";var o=n("ofXK"),i=n("fXoL");let a=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})();var r=n("n6zg");n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r.a}))},UJtz:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("fXoL"),i=n("n6zg");const a=["*"];let r=(()=>{class t{constructor(t,e){this.modalService=t,this.el=e,this.element=e.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",t=>{"jw-modal"===t.target.className&&this.close()}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("jw-modal-open")}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(i.a),o.Qb(o.l))},t.\u0275cmp=o.Kb({type:t,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:a,decls:4,vars:0,consts:[[1,"jw-modal"],[1,"jw-modal-body"],[1,"jw-modal-background"]],template:function(t,e){1&t&&(o.oc(),o.Wb(0,"div",0),o.Wb(1,"div",1),o.nc(2),o.Vb(),o.Vb(),o.Rb(3,"div",2))},styles:["jw-modal{display:none}jw-modal .jw-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{padding:20px;background:#fff;margin:40px}jw-modal .jw-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.75;z-index:900}body.jw-modal-open{overflow:hidden}"],encapsulation:2}),t})()},n6zg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("fXoL");let i=(()=>{class t{constructor(){this.modals=[]}add(t){this.modals.push(t)}remove(t){this.modals=this.modals.filter(e=>e.id!==t)}open(t){this.modals.find(e=>e.id===t).open()}close(t){this.modals.find(e=>e.id===t).close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);