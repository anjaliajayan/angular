function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{KnqO:function(t,e,n){"use strict";var o,a=n("ofXK"),i=n("fXoL"),r=((o=function t(){_classCallCheck(this,t)}).\u0275mod=i.Ob({type:o}),o.\u0275inj=i.Nb({factory:function(t){return new(t||o)},imports:[[a.c]]}),o),c=n("n6zg");n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c.a}))},Lej1:function(t,e,n){"use strict";n.r(e);var o=n("ofXK"),a=n("wd/R"),i=n("lM/l"),r=n("3Pt+"),c=n("fXoL"),s=n("w8Af"),b=n("tyNb"),l=n("5eHb"),p=n("KnqO"),d=n("7o2P"),u=n("/nqz"),g=n("lDzL"),m=n("UJtz");function f(t,e){if(1&t&&(c.Wb(0,"option",76),c.Jc(1),c.Vb()),2&t){var n=e.$implicit;c.qc("value",n.organisation_id),c.Cb(1),c.Lc(" ",n.name," ")}}function h(t,e){if(1&t&&(c.Wb(0,"span"),c.Jc(1),c.Vb()),2&t){var n=c.ic().value;c.Cb(1),c.Kc(n)}}function v(t,e){1&t&&(c.Wb(0,"span"),c.Jc(1,"---"),c.Vb())}function C(t,e){if(1&t&&(c.Hc(0,h,2,1,"span",77),c.Hc(1,v,2,0,"span",77)),2&t){var n=e.value;c.pc("ngIf",n),c.Cb(1),c.pc("ngIf",!n)}}function _(t,e){1&t&&(c.Jc(0),c.jc(1,"date")),2&t&&c.Lc("",c.lc(1,1,e.value,"dd/MM/yyyy h:mm a")," ")}function V(t,e){if(1&t&&c.Jc(0),2&t){var n=e.row;c.Lc(" ",n.amount+" "+n.currency_code," ")}}function y(t,e){1&t&&(c.Wb(0,"span"),c.Jc(1,"CR"),c.Vb())}function W(t,e){1&t&&(c.Wb(0,"span"),c.Jc(1,"DR"),c.Vb())}function x(t,e){if(1&t&&(c.Hc(0,y,2,0,"span",77),c.Hc(1,W,2,0,"span",77)),2&t){var n=e.value;c.pc("ngIf","credit"==n),c.Cb(1),c.pc("ngIf","debit"==n)}}function k(t,e){1&t&&(c.Jc(0),c.jc(1,"date")),2&t&&c.Lc("",c.lc(1,1,e.value,"dd/MM/yyyy h:mm a")," ")}function w(t,e){if(1&t&&(c.Wb(0,"div"),c.Jc(1),c.Vb()),2&t){var n=e.row;c.Fb("recConfirm ","1"==n.topup_status?"Confirm":"hold",""),c.Cb(1),c.Lc(" ","1"==n.topup_status?"Confirm":"Hold","")}}var T=function(){return{"width.px":13}};function M(t,e){if(1&t){var n=c.Xb();c.Wb(0,"div"),c.Wb(1,"a",78),c.ec("click",(function(t){c.Ac(n);var o=e.row;return c.ic().editTopup(o,"custom-modal-1",1)})),c.Wb(2,"i",34),c.Rb(3,"img",79),c.Vb(),c.Vb(),c.Vb()}2&t&&(c.Cb(3),c.pc("ngStyle",c.tc(1,T)))}function P(t,e){if(1&t&&(c.Wb(0,"a",81),c.Rb(1,"i",82),c.Vb()),2&t){var n=c.ic().row;c.qc("href",n.attachment,c.Cc)}}function O(t,e){if(1&t&&(c.Wb(0,"a",81),c.Jc(1," --- "),c.Vb()),2&t){var n=c.ic().row;c.qc("href",n.attachment,c.Cc)}}function J(t,e){if(1&t&&(c.Hc(0,P,2,1,"a",80),c.Hc(1,O,2,1,"a",80)),2&t){var n=e.row;c.pc("ngIf",n.attachment),c.Cb(1),c.pc("ngIf",!n.attachment)}}function A(t,e){1&t&&(c.Jc(0),c.jc(1,"date")),2&t&&c.Lc("",c.lc(1,1,e.value,"dd/MM/yyyy")," ")}function D(t,e){if(1&t&&(c.Wb(0,"div"),c.jc(1,"lowercase"),c.Jc(2),c.Vb()),2&t){var n=e.row;c.Fb("recConfirm ",c.kc(1,4,n.showStatus),""),c.Cb(2),c.Kc(n.showStatus)}}function R(t,e){if(1&t){var n=c.Xb();c.Wb(0,"div"),c.Wb(1,"a",83),c.ec("click",(function(t){c.Ac(n);var o=e.row;return c.ic().editTopup(o,"custom-modal-1",2)})),c.Rb(2,"i",84),c.Vb(),c.Vb()}}function I(t,e){if(1&t&&(c.Wb(0,"a",87),c.Rb(1,"i",88),c.Vb()),2&t){var n=c.ic().row;c.qc("href",n.attachment,c.Cc)}}function F(t,e){1&t&&(c.Wb(0,"a",89),c.Jc(1," --- "),c.Vb())}function L(t,e){if(1&t&&(c.Hc(0,I,2,1,"a",85),c.Hc(1,F,2,0,"a",86)),2&t){var n=e.row;c.pc("ngIf",n.attachment),c.Cb(1),c.pc("ngIf",!n.attachment)}}function S(t,e){1&t&&(c.Ub(0),c.Wb(1,"b"),c.Jc(2,"Top-Up Request"),c.Vb(),c.Tb())}function H(t,e){1&t&&(c.Ub(0),c.Wb(1,"b"),c.Jc(2,"Floating Deposit Request"),c.Vb(),c.Tb())}function q(t,e){if(1&t&&(c.Wb(0,"option",76),c.Jc(1),c.Vb()),2&t){var n=e.$implicit;c.qc("value",n.code),c.Cb(1),c.Lc(" ",n.code,"")}}var z=function(t){return{error:t}};function N(t,e){if(1&t){var n=c.Xb();c.Ub(0),c.Wb(1,"h4",94),c.Wb(2,"span",95),c.Jc(3,"Update Topup Request"),c.Vb(),c.Vb(),c.Wb(4,"form",97),c.ec("ngSubmit",(function(t){return c.Ac(n),c.ic(2).updateTopupRequest("custom-modal-1")})),c.Wb(5,"div",93),c.Wb(6,"div",22),c.Wb(7,"div",98),c.Wb(8,"select",99),c.Wb(9,"option",100),c.Jc(10,"Select Currency"),c.Vb(),c.Hc(11,q,2,2,"option",25),c.Vb(),c.Vb(),c.Wb(12,"div",98),c.Rb(13,"input",101),c.Vb(),c.Wb(14,"div",98),c.Wb(15,"select",102),c.Wb(16,"option",103),c.Jc(17,"Select"),c.Vb(),c.Wb(18,"option",104),c.Jc(19,"Confirm"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(20,"div",22),c.Wb(21,"div",37),c.Wb(22,"button",38),c.Jc(23," Update "),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Tb()}if(2&t){var o=c.ic(2);c.Cb(4),c.pc("formGroup",o.updateTopupForm),c.Cb(3),c.pc("ngClass",c.uc(5,z,o.submitted&&o.f.bank_charge_currency.errors&&o.f.bank_charge_currency.errors.required)),c.Cb(4),c.pc("ngForOf",o.currencies),c.Cb(1),c.pc("ngClass",c.uc(7,z,o.submitted&&o.f.bank_charge.errors&&o.f.bank_charge.errors.required)),c.Cb(2),c.pc("ngClass",c.uc(9,z,o.submitted&&o.f.topup_status.errors&&o.f.topup_status.errors.required))}}function j(t,e){if(1&t){var n=c.Xb();c.Wb(0,"div",90),c.Wb(1,"i",91),c.ec("click",(function(t){return c.Ac(n),c.ic().closeModal("custom-modal-1")})),c.Vb(),c.Wb(2,"div",92),c.Hc(3,S,3,0,"ng-container",77),c.Hc(4,H,3,0,"ng-container",77),c.Vb(),c.Wb(5,"div",8),c.Wb(6,"div",93),c.Wb(7,"h4",94),c.Wb(8,"span",95),c.Jc(9,"Agency Details"),c.Vb(),c.Vb(),c.Wb(10,"div",11),c.Wb(11,"table",96),c.Wb(12,"thead"),c.Wb(13,"tr"),c.Wb(14,"th"),c.Jc(15,"IATA"),c.Vb(),c.Wb(16,"th"),c.Jc(17,"Agency Name"),c.Vb(),c.Wb(18,"th"),c.Jc(19,"Agency Country"),c.Vb(),c.Wb(20,"th"),c.Jc(21,"Agency Currency"),c.Vb(),c.Wb(22,"th"),c.Jc(23,"Top-Up Type"),c.Vb(),c.Vb(),c.Vb(),c.Wb(24,"tbody"),c.Wb(25,"tr"),c.Wb(26,"td"),c.Jc(27),c.Vb(),c.Wb(28,"td"),c.Jc(29),c.Vb(),c.Wb(30,"td"),c.Jc(31),c.Vb(),c.Wb(32,"td"),c.Jc(33),c.Vb(),c.Wb(34,"td"),c.Jc(35),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(36,"h4",94),c.Wb(37,"span",95),c.Jc(38,"Top-Up Details"),c.Vb(),c.Vb(),c.Wb(39,"div",11),c.Wb(40,"table",96),c.Wb(41,"thead"),c.Wb(42,"tr"),c.Wb(43,"th"),c.Jc(44,"Sub Type"),c.Vb(),c.Wb(45,"th"),c.Jc(46,"Purpose"),c.Vb(),c.Wb(47,"th"),c.Jc(48,"Bank Name"),c.Vb(),c.Wb(49,"th"),c.Jc(50,"Bank Account Number"),c.Vb(),c.Wb(51,"th"),c.Jc(52,"Payment Date"),c.Vb(),c.Wb(53,"th"),c.Jc(54,"Payment Currency"),c.Vb(),c.Wb(55,"th"),c.Jc(56,"Payment Type"),c.Vb(),c.Wb(57,"th"),c.Jc(58,"Payment Amount"),c.Vb(),c.Wb(59,"th"),c.Jc(60,"Reference Number"),c.Vb(),c.Wb(61,"th"),c.Jc(62,"Deposited By"),c.Vb(),c.Vb(),c.Vb(),c.Wb(63,"tbody"),c.Wb(64,"tr"),c.Wb(65,"td"),c.Jc(66),c.Vb(),c.Wb(67,"td"),c.Jc(68),c.Vb(),c.Wb(69,"td"),c.Jc(70),c.Vb(),c.Wb(71,"td"),c.Jc(72),c.Vb(),c.Wb(73,"td"),c.Jc(74),c.Vb(),c.Wb(75,"td"),c.Jc(76),c.Vb(),c.Wb(77,"td"),c.Jc(78),c.Vb(),c.Wb(79,"td"),c.Jc(80),c.Vb(),c.Wb(81,"td"),c.Jc(82),c.Vb(),c.Wb(83,"td"),c.Jc(84),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Hc(85,N,24,11,"ng-container",77),c.Vb(),c.Vb(),c.Vb()}if(2&t){var o=c.ic();c.Cb(3),c.pc("ngIf",!o.getInfo.isFloatingDeposit),c.Cb(1),c.pc("ngIf",o.getInfo.isFloatingDeposit),c.Cb(23),c.Lc(" ",o.getInfo.agency_iata_num," "),c.Cb(2),c.Lc(" ",o.getInfo.agency_name," "),c.Cb(2),c.Lc(" ",o.getInfo.agency_country," "),c.Cb(2),c.Lc(" ",o.getInfo.agency_currency," "),c.Cb(2),c.Lc(" ",o.getInfo.topup_type," "),c.Cb(31),c.Lc(" ",o.getInfo.topup_subtype," "),c.Cb(2),c.Lc(" ",o.getInfo.topup_purpose," "),c.Cb(2),c.Lc(" ",o.getInfo.bank_name," "),c.Cb(2),c.Lc(" ",o.getInfo.bank_account_no," "),c.Cb(2),c.Lc(" ",o.getInfo.payment_date," "),c.Cb(2),c.Lc(" ",o.getInfo.payment_currency," "),c.Cb(2),c.Lc(" ",o.getInfo.payment_type," "),c.Cb(2),c.Lc(" ",o.getInfo.payment_amount," "),c.Cb(2),c.Lc(" ",o.getInfo.request_no," "),c.Cb(2),c.Lc(" ",o.getInfo.request_initiator," "),c.Cb(1),c.pc("ngIf",!o.getInfo.isFloatingDeposit)}}function B(t,e){if(1&t&&(c.Wb(0,"option",76),c.Jc(1),c.Vb()),2&t){var n=e.$implicit;c.qc("value",n.organisation_id),c.Cb(1),c.Lc(" ",n.name,"")}}function Y(t,e){if(1&t&&(c.Wb(0,"option",103),c.Jc(1),c.Vb()),2&t){var n=e.$implicit;c.Cb(1),c.Lc(" ",n.employee_id,"")}}function E(t,e){if(1&t&&(c.Wb(0,"b"),c.Jc(1),c.Vb()),2&t){var n=c.ic(2);c.Cb(1),c.Kc(n.agentDetails.currency)}}function U(t,e){if(1&t){var n=c.Xb();c.Wb(0,"div",90),c.Wb(1,"i",91),c.ec("click",(function(t){return c.Ac(n),c.ic().closeModal("corporate-transaction")})),c.Vb(),c.Wb(2,"div",105),c.Wb(3,"b"),c.Jc(4,"Corporate Transaction : Make Payment"),c.Vb(),c.Vb(),c.Wb(5,"div",8),c.Wb(6,"div",93),c.Wb(7,"form",97),c.ec("ngSubmit",(function(t){return c.Ac(n),c.ic().submitCorporateTransaction("corporate-transaction")})),c.Wb(8,"div",93),c.Wb(9,"div",22),c.Wb(10,"div",98),c.Wb(11,"label"),c.Jc(12,"Corporate"),c.Vb(),c.Wb(13,"select",106),c.ec("change",(function(t){return c.Ac(n),c.ic().getTransactionDetails(t)})),c.Wb(14,"option",100),c.Jc(15,"Select Corporate"),c.Vb(),c.Hc(16,B,2,2,"option",25),c.Vb(),c.Vb(),c.Wb(17,"div",98),c.Wb(18,"label"),c.Jc(19,"Staff"),c.Vb(),c.Wb(20,"select",107),c.ec("change",(function(t){return c.Ac(n),c.ic().getTransactionDetails(t)})),c.Wb(21,"option",100),c.Jc(22,"Select Staff"),c.Vb(),c.Hc(23,Y,2,1,"option",108),c.Vb(),c.Vb(),c.Wb(24,"div",13),c.Rb(25,"input",109),c.Vb(),c.Wb(26,"div",110),c.Wb(27,"div",111),c.Rb(28,"input",112),c.Wb(29,"label",113),c.Jc(30,"Credit"),c.Vb(),c.Vb(),c.Wb(31,"div",111),c.Rb(32,"input",114),c.Wb(33,"label",115),c.Jc(34,"Debit"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(35,"div",22),c.Wb(36,"div",98),c.Wb(37,"label"),c.Jc(38,"Transaction Amount ("),c.Hc(39,E,2,1,"b",77),c.Jc(40,")"),c.Vb(),c.Rb(41,"input",116),c.Vb(),c.Wb(42,"div",98),c.Wb(43,"label"),c.Jc(44,"Available deposit ( Corporate )"),c.Vb(),c.Rb(45,"input",117),c.Vb(),c.Wb(46,"div",98),c.Wb(47,"label"),c.Jc(48,"Comments"),c.Vb(),c.Rb(49,"textarea",118),c.Vb(),c.Vb(),c.Wb(50,"div",22),c.Wb(51,"div",37),c.Wb(52,"button",38),c.Jc(53," Make Transaction "),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&t){var o=c.ic();c.Cb(7),c.pc("formGroup",o.corporateTransactionForm),c.Cb(3),c.pc("ngClass",c.uc(9,z,o.submittedCorp&&o.fc.organisation_id.errors&&o.fc.organisation_id.errors.required)),c.Cb(6),c.pc("ngForOf",o.childCoporates),c.Cb(1),c.pc("ngClass",c.uc(11,z,o.submittedCorp&&o.fc.staff_id.errors&&o.fc.staff_id.errors.required)),c.Cb(6),c.pc("ngForOf",o.staffList),c.Cb(13),c.pc("ngClass",c.uc(13,z,o.submittedCorp&&o.fc.amount.errors&&o.fc.amount.errors.required)),c.Cb(3),c.pc("ngIf",o.agentDetails&&"undefined"!=o.agentDetails.currency),c.Cb(3),c.pc("ngClass",c.uc(15,z,o.submittedCorp&&o.fc.available_deposit.errors&&o.fc.available_deposit.errors.required)),c.Cb(4),c.pc("ngClass",c.uc(17,z,o.submittedCorp&&o.fc.available_deposit.errors&&o.fc.available_deposit.errors.required))}}function X(t,e){if(1&t&&(c.Wb(0,"option",76),c.Jc(1),c.Vb()),2&t){var n=e.$implicit;c.qc("value",n.organisation_id),c.Cb(1),c.Lc(" ",n.name,"")}}function K(t,e){if(1&t){var n=c.Xb();c.Wb(0,"div",22),c.Wb(1,"div",132),c.Wb(2,"label"),c.Jc(3,"Agent"),c.Vb(),c.Wb(4,"select",134),c.ec("change",(function(t){return c.Ac(n),c.ic(2).getTransactionDetails(t)})),c.Wb(5,"option",100),c.Jc(6,"Select Agent"),c.Vb(),c.Hc(7,X,2,2,"option",25),c.Vb(),c.Vb(),c.Vb()}if(2&t){var o=c.ic(2);c.Cb(1),c.pc("ngClass",c.uc(2,z,o.submittedAgent&&o.fa.organisation_id.errors&&o.fa.organisation_id.errors.orgIdRequire)),c.Cb(6),c.pc("ngForOf",o.childAgents)}}function Q(t,e){if(1&t&&(c.Wb(0,"div",22),c.Wb(1,"div",132),c.Wb(2,"label"),c.Jc(3,"Trip Id"),c.Vb(),c.Rb(4,"input",135),c.Vb(),c.Vb()),2&t){var n=c.ic(2);c.Cb(1),c.pc("ngClass",c.uc(1,z,n.submittedAgent&&n.fa.trip_id.errors&&n.fa.trip_id.errors.tripIdRequire))}}function G(t,e){1&t&&(c.Wb(0,"div",127),c.Wb(1,"label"),c.Jc(2,"Available deposit"),c.Vb(),c.Rb(3,"input",136),c.Vb())}function Z(t,e){if(1&t&&(c.Wb(0,"b"),c.Jc(1),c.Vb()),2&t){var n=c.ic(2);c.Cb(1),c.Kc(n.agentDetails.currency)}}function tt(t,e){if(1&t){var n=c.Xb();c.Wb(0,"div",90),c.Wb(1,"i",91),c.ec("click",(function(t){return c.Ac(n),c.ic().closeModal("agent-transaction")})),c.Vb(),c.Rb(2,"br"),c.Wb(3,"div",105),c.Wb(4,"b"),c.Jc(5,"Agent Transaction : Make Payment"),c.Vb(),c.Vb(),c.Rb(6,"br"),c.Wb(7,"div",8),c.Wb(8,"div",93),c.Wb(9,"form",97),c.ec("ngSubmit",(function(t){return c.Ac(n),c.ic().submitAgentTransaction("agent-transaction")})),c.Wb(10,"div",93),c.Wb(11,"div",22),c.Wb(12,"div",119),c.Wb(13,"label"),c.Jc(14,"Check by Agent and Trip"),c.Vb(),c.Wb(15,"div",120),c.Rb(16,"input",121),c.Wb(17,"label",122),c.Jc(18,"Agent"),c.Vb(),c.Vb(),c.Jc(19,"\xa0 "),c.Wb(20,"div",120),c.Rb(21,"input",123),c.Wb(22,"label",124),c.Jc(23,"Trip ID"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Hc(24,K,8,4,"div",125),c.Hc(25,Q,5,3,"div",125),c.Wb(26,"div",22),c.Wb(27,"div",126),c.Wb(28,"label"),c.Jc(29,"Transaction Type"),c.Vb(),c.Wb(30,"div",111),c.Rb(31,"input",112),c.Wb(32,"label",113),c.Jc(33,"Credit Amount"),c.Vb(),c.Vb(),c.Wb(34,"div",111),c.Rb(35,"input",114),c.Wb(36,"label",115),c.Jc(37,"Debit Amount"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(38,"div",22),c.Wb(39,"div",127),c.Wb(40,"label"),c.Jc(41,"Payment Towards"),c.Vb(),c.Rb(42,"input",128),c.Vb(),c.Hc(43,G,4,0,"div",129),c.Vb(),c.Wb(44,"div",22),c.Wb(45,"div",130),c.Wb(46,"label"),c.Jc(47,"Transaction Amount ("),c.Hc(48,Z,2,1,"b",77),c.Jc(49,")"),c.Vb(),c.Rb(50,"input",131),c.Vb(),c.Vb(),c.Wb(51,"div",22),c.Wb(52,"div",132),c.Wb(53,"label"),c.Jc(54,"Comments"),c.Vb(),c.Rb(55,"textarea",133),c.Vb(),c.Vb(),c.Wb(56,"div",22),c.Wb(57,"div",37),c.Wb(58,"button",38),c.Jc(59," Make Transaction "),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&t){var o=c.ic();c.Cb(9),c.pc("formGroup",o.agentTransactionForm),c.Cb(15),c.pc("ngIf",1==o.agentTransactionForm.controls.selectType.value),c.Cb(1),c.pc("ngIf",2==o.agentTransactionForm.controls.selectType.value),c.Cb(18),c.pc("ngIf",1==o.agentTransactionForm.controls.selectType.value),c.Cb(2),c.pc("ngClass",c.uc(7,z,o.submittedAgent&&o.fa.amount.errors&&o.fa.amount.errors.required)),c.Cb(3),c.pc("ngIf",o.agentDetails&&"undefined"!=o.agentDetails.currency),c.Cb(4),c.pc("ngClass",c.uc(9,z,o.submittedAgent&&o.fa.transaction_comments.errors&&o.fa.transaction_comments.errors.required))}}var et,nt,ot=[{path:"",component:(et=function(){function t(e,n,o,a,r,c,s){_classCallCheck(this,t),this.transactionsService=e,this.router=n,this.toastr=o,this.modalService=a,this.commonService=r,this.fb=c,this.excelService=s,this.paymentType=i.e,this.limit=10,this.page=0,this.pageTopup=0,this.pageFloat=0,this.transactions=[],this.totalTransaction=0,this.totalTopup=0,this.totalFloating=0,this.totalBookings=0,this.exportTransactionData=[],this.staffList=[],this.agentDetails={},this.offsetTransaction=0,this.offsetTopup=0,this.offsetFloating=0,this.filterParams={page:this.page},this.filterTopupParams={page:this.pageTopup},this.filterFloatingParams={page:this.pageFloat},this.toptupList=[],this.floatingDepositList=[],this.showDetailModal=!1,this.currencies=[],this.submitted=!1,this.submittedCorp=!1,this.submittedAgent=!1,this.staffProfileList=[],this.childCoporates=[],this.showAgentModal=!1,this.showCorporateModal=!1,this.childAgents=[],this.organisationAccount=[],this.showFloatingDeposit=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.filterTransactionForm=this.fb.group({trip_id:[""],payment_type:["all"],organisation_id:["all"],start_date:[""],end_date:[""]}),this.updateTopupForm=this.fb.group({bank_charge_currency:["",[r.z.required]],bank_charge:["",[r.z.required]],topup_status:["",[r.z.required]],organisation_id:[""],topup_id:[""],payment_amount:[""]}),this.corporateTransactionForm=this.fb.group({organisation_id:["",[r.z.required]],staff_id:["",[r.z.required]],payment_type:["deposit",[r.z.required]],transaction_type:["credit",[r.z.required]],amount:["",[r.z.required]],available_deposit:[""],transaction_comments:["",[r.z.required]],currency_id:[""]}),this.agentTransactionForm=this.fb.group({selectType:["1"],organisation_id:[""],trip_id:[""],payment_type:["deposit",[r.z.required]],transaction_type:["credit",[r.z.required]],amount:["",[r.z.required]],available_deposit:[""],transaction_comments:["",[r.z.required]],currency_id:[""]},{validator:function(t){var e=t.controls.organisation_id,n=t.controls.selectType,o=t.controls.trip_id;e.errors&&!e.errors.orgIdRequire||(1==n.value?e.value||(o.setErrors(null),e.setErrors({orgIdRequire:!0})):2==n.value?o.value||(e.setErrors(null),o.setErrors({tripIdRequire:!0})):(e.setErrors(null),o.setErrors(null)))}}),this.getList(this.filterParams),this.getTopupList(this.filterTopupParams),this.getFloatingDepositList(this.filterFloatingParams),this.agentAndCorporateList(),this.getOrganisationAccountData()}},{key:"agentAndCorporateList",value:function(){var t=this;this.commonService.getSelfAgentsList().subscribe((function(e){"error"!=e.type?(t.agentAndCorporates=e.listData.filter((function(t){return null!==t.name})),t.agentAndCorporates=t.agentAndCorporates.filter((function(t){return""!==t.name}))):t.toastr.error("".concat(e.msg),"".concat(e.msg),{timeOut:1e4,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"getOrganisationAccountData",value:function(){var t=this;this.transactionsService.getOrganisationAccount().subscribe((function(e){"error"!=e.type?null!=e.data&&(t.organisationAccount=e.data):t.toastr.error("".concat(e.msg),"".concat(e.msg),{timeOut:1e4,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"getList",value:function(t){var e=this;this.transactionsService.getList(t).subscribe((function(t){t.status?0!=t.result.data.length?(e.transactions=t.result.data,e.totalTransaction=t.result.total,e.offsetTransaction=t.result.page):e.toastr.info("sorry! Data not available to display","",{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}):e.toastr.error("".concat(t.message),"".concat(t.message),{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"getTopupList",value:function(t){var e=this;this.transactionsService.getTopUplist(t).subscribe((function(t){t.status?(e.toptupList=t.result.data,e.totalTopup=t.result.total,e.offsetTopup=t.result.page):e.toastr.error("".concat(t.message),"".concat(t.message),{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"filterData",value:function(){var t=this.filterTransactionForm.value;t.page=1,this.getList(t)}},{key:"getCurrencyList",value:function(){var t=this;this.commonService.getCurrencyList().subscribe((function(e){"error"!=e.type?0!=e.currencies.length?t.currencies=e.currencies:t.toastr.info("There is no data available to display","",{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}):t.toastr.error("".concat(e.msg),"".concat(e.msg),{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"editTopup",value:function(t,e,n){var o=this;this.transactionsService.getTopup(t.topup_id).subscribe((function(t){"error"!=t.type?(o.getInfo=t.data,o.showDetailModal=!0,1==n?(o.getInfo.isFloatingDeposit=0,o.updateTopupForm.patchValue({topup_id:o.getInfo.topup_id,organisation_id:o.getInfo.organization_id,payment_amount:o.getInfo.payment_amount}),o.getCurrencyList()):o.getInfo.isFloatingDeposit=1,o.modalService.open(e)):o.toastr.error("".concat(t.msg),"".concat(t.msg),{timeOut:1e4,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"updateTopupRequest",value:function(t){var e=this;this.submitted=!0,this.updateTopupForm.invalid||this.transactionsService.updateTopup(this.updateTopupForm.value).subscribe((function(n){"error"!=n.type?(e.getInfo=n.data,e.showDetailModal=!1,e.modalService.close(t),e.getList(e.filterParams)):e.toastr.error("".concat(n.msg),"".concat(n.msg),{timeOut:1e4,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"openModal",value:function(t){"agent-transaction"==t?(this.agentTransactionForm.patchValue({selectType:"1"}),this.showCorporateModal=!1,this.showAgentModal=!0,this.getChildAgent(),this.modalService.open(t)):(this.showAgentModal=!1,this.showCorporateModal=!0,this.getChildCoporates(),this.modalService.open(t))}},{key:"getChildCoporates",value:function(){var t=this;this.commonService.getChildCoporatesList().subscribe((function(e){t.childCoporates=e.listData.filter((function(t){return null!==t.name})),t.childCoporates=t.childCoporates.filter((function(t){return""!==t.name}))}))}},{key:"getChildAgent",value:function(){var t=this;this.commonService.getChildAgentList().subscribe((function(e){t.childAgents=e.listData.filter((function(t){return null!==t.name})),t.childAgents=t.childAgents.filter((function(t){return""!==t.name}))}))}},{key:"getTransactionDetails",value:function(t){var e=this;if(t.target.value){var n=t.target.value;console.log("orgId------",n),this.commonService.getTransactionDetailByAgent(n).subscribe((function(t){console.log("getTransactionDetailByAgent------",t),"data"==t.type&&(e.agentDetails.currency=t.listData.currency,e.showAgentModal?e.agentTransactionForm.patchValue({currency_id:t.listData.currency_id,available_deposit:t.listData.currency+" "+t.listData.available_deposit}):(e.getStaffListByCorp(n),e.corporateTransactionForm.patchValue({currency_id:t.listData.currency_id})))}))}}},{key:"getStaffListByCorp",value:function(t){var e=this;t?this.commonService.getStaffProfileList(t).subscribe((function(t){e.staffList="data"==t.type?t.listData:[]})):this.staffList=[]}},{key:"submitAgentTransaction",value:function(t){var e=this;console.log("submitAgentTransaction:",t),this.submittedAgent=!0,this.agentTransactionForm.invalid||this.transactionsService.addAgentTransaction(this.agentTransactionForm.value).subscribe((function(n){"data"==n.type?(e.getInfo=n.data,e.showAgentModal=!1,e.modalService.close(t),e.submittedAgent=!1,e.agentTransactionForm.reset(),e.toastr.info("".concat(n.msg),"".concat(n.msg),{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"}),e.getList(e.filterParams)):e.toastr.error("".concat(n.msg),"".concat(n.msg),{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"updateTopupsubmitCorporateTransactionRequest",value:function(t){var e=this;this.submittedCorp=!0,this.corporateTransactionForm.invalid||this.transactionsService.makeCorpTransaction(this.corporateTransactionForm.value).subscribe((function(n){"error"!=n.type?(e.showDetailModal=!1,e.submittedCorp=!1,e.modalService.close(t)):e.toastr.error("".concat(n.msg),"".concat(n.msg),{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"pageCallback",value:function(t){var e=this.filterTransactionForm.value;e.page=t.offset,this.getList(e)}},{key:"pageTopCallback",value:function(t){this.filterTopupParams.page=t.offset,this.getTopupList(this.filterTopupParams)}},{key:"pageFloatingCallback",value:function(t){this.filterFloatingParams.page=t.offset,this.getFloatingDepositList(this.filterFloatingParams)}},{key:"getFloatingDepositList",value:function(t){var e=this;this.transactionsService.getFloatingDepositList(t).subscribe((function(t){"error"!=t.type?(e.floatingDepositList=t.result.data,e.totalFloating=t.result.total,e.offsetFloating=t.result.page):e.toastr.error("".concat(t.msg),"".concat(t.msg),{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"ngAfterViewInit",value:function(){var t=this;$(document).ready((function(){$(".menu .item").tab(),$(".ui.dropdown").dropdown(),$((function(){$('input[name="start_date"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1901,startDate:a().subtract(90,"day"),autoUpdateInput:!1,maxYear:parseInt(a().format("YYYY"),10)},(function(e,n,o){a().diff(e,"years"),t.filterTransactionForm.patchValue({start_date:a(e).format("DD/MM/YYYY")})})),$('input[name="end_date"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1901,startDate:a().subtract(90,"day"),autoUpdateInput:!1,maxYear:parseInt(a().format("YYYY"),10)},(function(e,n,o){a().diff(e,"years"),t.filterTransactionForm.patchValue({end_date:a(e).format("DD/MM/YYYY")})}))}))}))}},{key:"closeModal",value:function(t){this.modalService.close(t)}},{key:"exportData",value:function(){var t=this;this.transactionsService.exportTransaction(this.filterTransactionForm.value).subscribe((function(e){"error"!=e.type?(t.exportTransactionData=e.data,t.excelService.exportAsExcelFile(t.exportTransactionData,"transactions")):t.toastr.error("".concat(e.msg),"".concat(e.msg),{timeOut:1e3,progressBar:!1,positionClass:"toast-bottom-right"})}))}},{key:"filterFormReset",value:function(){this.filterTransactionForm.patchValue({trip_id:"",start_date:"",end_date:"",payment_type:"all",organisation_id:"all"}),$(".ui.dropdown").dropdown()}},{key:"submitCorporateTransaction",value:function(t){}},{key:"f",get:function(){return this.updateTopupForm.controls}},{key:"fc",get:function(){return this.corporateTransactionForm.controls}},{key:"fa",get:function(){return this.agentTransactionForm.controls}}]),t}(),et.\u0275fac=function(t){return new(t||et)(c.Qb(s.a),c.Qb(b.f),c.Qb(l.b),c.Qb(p.b),c.Qb(d.a),c.Qb(r.f),c.Qb(u.a))},et.\u0275cmp=c.Kb({type:et,selectors:[["app-transactions"]],decls:147,vars:36,consts:[[1,"outer-segment"],[1,"user"],[1,"user_title"],[1,"ui","top","attached","tabular","menu"],["data-tab","first",1,"active","item","create_tab_title"],["data-tab","second",1,"item","corporate_staff"],["data-tab","third",1,"item","corporate_staff"],["data-tab","first",1,"ui","bottom","attached","active","tab","segment","tabContent-block"],[1,"ui","fluid","container"],[1,"outer-form","result-block"],[1,"ui","form","b2b_basic_form",3,"formGroup","ngSubmit"],[1,"field"],[1,"two","fields"],[1,"three","wide","field"],["type","text","placeholder","Name","disabled","",3,"value"],["type","text","placeholder","Deposit A/C Balance","disabled","",3,"value"],[1,"ui","dropdown","primary","button","bookings_btn-panel","pnr-button"],[1,"text"],[1,"dropdown","icon"],[1,"menu"],[1,"item",3,"click"],[1,"ui","header","main_head"],[1,"fields"],["formControlName","organisation_id",1,"ui","fluid","search","dropdown"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"two","wide","field"],["type","text","name","trip-id","placeholder","Trip Id","formControlName","trip_id"],["formControlName","payment_type",1,"ui","fluid","search","dropdown"],["value","credit","selected",""],["value","debit","selected",""],[1,"two","wide","field","bookings_pickers"],[1,"ui","left","icon","input"],["type","text","placeholder","Start Date","name","start_date","formControlName","start_date"],[1,"icon"],["src","./../../../../assets/icons/calendar.svg",1,"bookings_input__placeholder-icon","cal"],["type","text","placeholder","End Date","name","end_date","formControlName","end_date"],[1,"bookings_btn-panel"],[1,"ui","primary","button"],[1,"ui","secondary","reset","button",3,"click"],[1,"ui","segment"],[1,"eight","wide","field","ui","small","header"],[1,"eight","wide","field","bookings_btn-panel"],["title","Export",1,"ui","export","button",3,"click"],[1,"user-table-list","b2c-list-user-table"],[1,"table",3,"columnMode","headerHeight","footerHeight","rowHeight","rows","externalPaging","count","offset","page"],["table",""],["name","Agent/Corporate","prop","organisation.name"],["name","Trip ID","prop","trip_id"],["ngx-datatable-cell-template",""],["name","Date&Time","prop","created"],["name","Comments","prop","transaction_comments"],["name","Account Type","prop","payment_type"],["name","Amount","prop","amount"],["name","CR/DR","prop","transaction_type"],["data-tab","second",1,"ui","bottom","attached","tab","segment","tabContent-block"],[1,"outer_corpForm","result-block"],[1,"table",3,"columnMode","headerHeight","footerHeight","rowHeight","rows","sortType","reorderable","externalPaging","count","offset","page"],["name","IATA","prop","agency_iata_num"],["name","Agency Name","prop","agency_name"],["name","Type","prop","topup_type"],["name","Sub Type","prop","topup_subtype"],["name","Ammount","prop","payment_amount"],["name","Bank Charge","prop","bank_charge"],["name","Reference","prop","request_no"],["name","Booked Date","prop","created_date"],["name","Status"],["name","Action"],["name","Attachment"],["data-tab","third",1,"ui","bottom","attached","tab","segment","tabContent-block"],[1,"table",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","sortType","reorderable","externalPaging","count","offset","page"],["name","Supplier","prop","request_no"],["id","custom-modal-1",1,"topUp-custom-modal"],["class","ui",4,"ngIf"],["id","corporate-transaction"],["id","agent-transaction"],[3,"value"],[4,"ngIf"],["title","Edit Details",3,"click"],["src","./../../../../assets/icons/edit.png",1,"edit-icon-img",3,"ngStyle"],["class","nav-link edit","target","__blank","title","View Document",3,"href",4,"ngIf"],["target","__blank","title","View Document",1,"nav-link","edit",3,"href"],[1,"eye","icon","eye-icon"],["title","View Details",3,"click"],["title","View details",1,"eye","icon","eye-icon"],["class","nav-link edit","target","__blank","title","View Attachment",3,"href",4,"ngIf"],["class","nav-link edit","target","__blank","title","View Attachment",4,"ngIf"],["target","__blank","title","View Attachment",1,"nav-link","edit",3,"href"],["title","View Document",1,"eye","icon","eye-icon"],["target","__blank","title","View Attachment",1,"nav-link","edit"],[1,"ui"],[1,"close","icon",3,"click"],[1,"header","head"],[1,"form-inner"],[1,"ui","header"],[1,"basic-header"],[1,"ui","celled","table"],[1,"ui","form",3,"formGroup","ngSubmit"],[1,"three","wide","field",3,"ngClass"],["formControlName","bank_charge_currency",1,"ui","fluid","search","dropdown"],["value","","selected",""],["type","number","name","bank_charge","formControlName","bank_charge","min","0","placeholder","Bank charge"],["formControlName","topup_status",1,"ui","fluid","search","dropdown"],["value",""],["value","1"],[1,"header"],["formControlName","organisation_id","required","",1,"ui","fluid","search","dropdown",3,"change"],["formControlName","staff_id","required","",1,"ui","fluid","search","dropdown",3,"change"],["value","",4,"ngFor","ngForOf"],["type","number","name","payment_type","formControlName","payment_type","readonly","","min","0","placeholder","Bank charge"],[1,"field","sexRadio"],[1,"ui","radio","checkbox"],["type","radio","id","credit","value","credit","name","transaction_type","formControlName","transaction_type",1,"hidden"],["for","credit"],["type","radio","id","debit","value","debit","name","transaction_type","formControlName","transaction_type",1,"hidden"],["for","debit"],["type","number","name","amount","formControlName","amount","min","0","placeholder","Transaction AMount (AED)"],["type","number","name","available_deposit","formControlName","available_deposit","min","0","placeholder","Available deposit"],["type","number","name","transaction_comments","formControlName","transaction_comments","min","0","placeholder","Comments"],[1,"sixteen","wide","field"],[1,"ui","radio","checkbox","select_chkBox"],["type","radio","id","Agent","value","1","name","selectType","formControlName","selectType",1,"hidden"],["for","Agent"],["type","radio","id","Trip","value","2","name","selectType","formControlName","selectType",1,"hidden"],["for","Trip"],["class","fields",4,"ngIf"],[1,"field","sixteen","wide","sexRadio"],[1,"eight","wide","field"],["type","text","name","payment_type","formControlName","payment_type","readonly","","placeholder","payment_type"],["class","eight wide field",4,"ngIf"],[1,"eight","wide","field",3,"ngClass"],["type","number","name","amount","formControlName","amount","min","0","placeholder","Transaction Amount"],[1,"sixteen","wide","field",3,"ngClass"],["name","transaction_comments","formControlName","transaction_comments","placeholder","Comments"],["formControlName","organisation_id",1,"ui","fluid","search","dropdown",3,"change"],["type","text","name","trip_id","formControlName","trip_id","placeholder","Trip Id"],["type","text","name","available_deposit","formControlName","available_deposit","placeholder","Available deposit","readonly",""]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"h3",2),c.Jc(3,"My Transactions"),c.Vb(),c.Vb(),c.Wb(4,"div",3),c.Wb(5,"div",4),c.Jc(6,"Transaction "),c.Vb(),c.Wb(7,"div",5),c.Jc(8,"Top Up"),c.Vb(),c.Wb(9,"div",6),c.Jc(10,"Floating Deposit"),c.Vb(),c.Vb(),c.Wb(11,"div",7),c.Wb(12,"div",8),c.Wb(13,"div",9),c.Wb(14,"form",10),c.ec("ngSubmit",(function(t){return e.filterData()})),c.Wb(15,"div",11),c.Wb(16,"div",12),c.Wb(17,"div",13),c.Wb(18,"label"),c.Jc(19,"Organisation Name"),c.Vb(),c.Rb(20,"input",14),c.Vb(),c.Wb(21,"div",13),c.Wb(22,"label"),c.Jc(23,"Deposit A/C Balance"),c.Vb(),c.Rb(24,"input",15),c.Vb(),c.Wb(25,"div",16),c.Wb(26,"div",17),c.Jc(27,"Add New Transaction"),c.Vb(),c.Rb(28,"i",18),c.Wb(29,"div",19),c.Wb(30,"div",20),c.ec("click",(function(t){return e.openModal("agent-transaction")})),c.Jc(31,"Agent"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(32,"h4",21),c.Jc(33,"Related Transaction"),c.Vb(),c.Wb(34,"div",11),c.Wb(35,"div",22),c.Wb(36,"div",13),c.Wb(37,"label"),c.Jc(38,"Agent / Corporate"),c.Vb(),c.Wb(39,"select",23),c.Wb(40,"option",24),c.Jc(41,"All Agent/Corporate"),c.Vb(),c.Hc(42,f,2,2,"option",25),c.Vb(),c.Vb(),c.Wb(43,"div",26),c.Wb(44,"label"),c.Jc(45,"Trip ID"),c.Vb(),c.Rb(46,"input",27),c.Vb(),c.Wb(47,"div",13),c.Wb(48,"label"),c.Jc(49,"Payment Type"),c.Vb(),c.Wb(50,"select",28),c.Wb(51,"option",24),c.Jc(52,"Credit / Debit"),c.Vb(),c.Wb(53,"option",29),c.Jc(54,"Credit"),c.Vb(),c.Wb(55,"option",30),c.Jc(56,"Debit"),c.Vb(),c.Vb(),c.Vb(),c.Wb(57,"div",31),c.Wb(58,"label"),c.Jc(59,"Start Date"),c.Vb(),c.Wb(60,"div",32),c.Rb(61,"input",33),c.Wb(62,"i",34),c.Rb(63,"img",35),c.Vb(),c.Vb(),c.Vb(),c.Wb(64,"div",31),c.Wb(65,"label"),c.Jc(66,"End Date"),c.Vb(),c.Wb(67,"div",32),c.Rb(68,"input",36),c.Wb(69,"i",34),c.Rb(70,"img",35),c.Vb(),c.Vb(),c.Vb(),c.Wb(71,"div",37),c.Wb(72,"button",38),c.Jc(73," Search "),c.Vb(),c.Wb(74,"button",39),c.ec("click",(function(t){return e.filterFormReset()})),c.Jc(75," Reset "),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(76,"div",40),c.Wb(77,"div",22),c.Wb(78,"div",41),c.Jc(79,"Transactions Log"),c.Vb(),c.Wb(80,"div",42),c.Wb(81,"button",43),c.ec("click",(function(t){return e.exportData()})),c.Jc(82," Export "),c.Vb(),c.Vb(),c.Vb(),c.Wb(83,"div",44),c.Wb(84,"ngx-datatable",45,46),c.ec("page",(function(t){return e.pageTopCallback(t)})),c.Rb(86,"ngx-datatable-column",47),c.Wb(87,"ngx-datatable-column",48),c.Hc(88,C,2,2,"ng-template",49),c.Vb(),c.Wb(89,"ngx-datatable-column",50),c.Hc(90,_,2,4,"ng-template",49),c.Vb(),c.Rb(91,"ngx-datatable-column",51),c.Rb(92,"ngx-datatable-column",52),c.Wb(93,"ngx-datatable-column",53),c.Hc(94,V,1,1,"ng-template",49),c.Vb(),c.Wb(95,"ngx-datatable-column",54),c.Hc(96,x,2,2,"ng-template",49),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(97,"div",55),c.Wb(98,"div",8),c.Wb(99,"div",56),c.Wb(100,"div",44),c.Wb(101,"ngx-datatable",57,46),c.ec("page",(function(t){return e.pageTopCallback(t)})),c.Rb(103,"ngx-datatable-column",58),c.Rb(104,"ngx-datatable-column",59),c.Rb(105,"ngx-datatable-column",60),c.Rb(106,"ngx-datatable-column",61),c.Rb(107,"ngx-datatable-column",62),c.Rb(108,"ngx-datatable-column",63),c.Rb(109,"ngx-datatable-column",64),c.Wb(110,"ngx-datatable-column",65),c.Hc(111,k,2,4,"ng-template",49),c.Vb(),c.Wb(112,"ngx-datatable-column",66),c.Hc(113,w,2,4,"ng-template",49),c.Vb(),c.Wb(114,"ngx-datatable-column",67),c.Hc(115,M,4,2,"ng-template",49),c.Vb(),c.Wb(116,"ngx-datatable-column",68),c.Hc(117,J,2,2,"ng-template",49),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(118,"div",69),c.Wb(119,"div",8),c.Wb(120,"div",56),c.Wb(121,"div",44),c.Wb(122,"ngx-datatable",70,46),c.ec("page",(function(t){return e.pageFloatingCallback(t)})),c.Rb(124,"ngx-datatable-column",58),c.Rb(125,"ngx-datatable-column",59),c.Rb(126,"ngx-datatable-column",60),c.Rb(127,"ngx-datatable-column",61),c.Rb(128,"ngx-datatable-column",62),c.Rb(129,"ngx-datatable-column",63),c.Rb(130,"ngx-datatable-column",64),c.Rb(131,"ngx-datatable-column",71),c.Wb(132,"ngx-datatable-column",65),c.Hc(133,A,2,4,"ng-template",49),c.Vb(),c.Wb(134,"ngx-datatable-column",66),c.Wb(135,"ngx-datatable-column",66),c.Hc(136,D,3,6,"ng-template",49),c.Vb(),c.Vb(),c.Wb(137,"ngx-datatable-column",67),c.Hc(138,R,3,0,"ng-template",49),c.Vb(),c.Wb(139,"ngx-datatable-column",68),c.Hc(140,L,2,2,"ng-template",49),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(141,"jw-modal",72),c.Hc(142,j,86,18,"div",73),c.Vb(),c.Wb(143,"jw-modal",74),c.Hc(144,U,54,19,"div",73),c.Vb(),c.Wb(145,"jw-modal",75),c.Hc(146,tt,60,11,"div",73),c.Vb()),2&t&&(c.Cb(14),c.pc("formGroup",e.filterTransactionForm),c.Cb(6),c.qc("value",e.organisationAccount.name),c.Cb(4),c.qc("value",e.organisationAccount["currency.code"]+" "+e.organisationAccount["organisation_account.available_deposit"]),c.Cb(18),c.pc("ngForOf",e.agentAndCorporates),c.Cb(42),c.pc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("rows",e.transactions)("externalPaging",!0)("count",e.totalTransaction)("offset",e.offsetTransaction),c.Cb(17),c.pc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("rows",e.toptupList)("sortType","multi")("reorderable",!0)("externalPaging",!0)("count",e.totalTopup)("offset",e.offsetTopup),c.Cb(21),c.pc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("rows",e.floatingDepositList)("sortType","multi")("reorderable",!0)("externalPaging",!0)("count",e.totalFloating)("offset",e.offsetFloating),c.Cb(20),c.pc("ngIf",e.showDetailModal),c.Cb(2),c.pc("ngIf",e.showCorporateModal),c.Cb(2),c.pc("ngIf",e.showAgentModal))},directives:[r.B,r.p,r.i,r.x,r.o,r.h,r.s,r.A,o.o,r.c,g.c,g.b,g.a,m.a,o.p,o.q,o.n,r.t,r.w,r.u],pipes:[o.f,o.m],styles:[".outer-segment[_ngcontent-%COMP%]{margin:0}.user[_ngcontent-%COMP%]{padding:0 24px}.user_title[_ngcontent-%COMP%]{margin:0;font-style:normal;font-weight:700!important;font-size:20px;line-height:23px;color:#181b20}.ui.top.attached.tabular.menu[_ngcontent-%COMP%]{margin-top:25px}.ui.header[_ngcontent-%COMP%]{color:#4f4f4f;font-family:Roboto,sans-serif;font-size:13px;font-weight:600;line-height:15px}.ui.top.attached.menu[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]{border-radius:.28571429rem 0 0 0;border-top-right-radius:15px!important}.ui.bottom.attached.active.tab.segment[_ngcontent-%COMP%]{border-bottom-left-radius:17px;border-bottom-right-radius:17px;border-top-right-radius:17px}.create_tab_title.corporate_staff[_ngcontent-%COMP%]{color:#4f4f4f;font-family:Roboto,sans-serif;font-size:13px;font-weight:500;line-height:15px;text-align:center}.tab.segment[_ngcontent-%COMP%]{box-shadow:3px 3px 4px 0 rgba(0,0,0,.4)}.outer-form[_ngcontent-%COMP%], .outer_corpForm[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:5px;margin:24px}hr[_ngcontent-%COMP%]{box-sizing:border-box;overflow:visible;border:.5px solid #e0e0e0}.add_btn[_ngcontent-%COMP%]{color:#fff;font-family:Roboto,sans-serif;font-size:13px;margin:20px;font-weight:500;line-height:15px}input[_ngcontent-%COMP%]{box-shadow:inset 0 1px 3px 0 rgba(0,0,0,.2)}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:13px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{font-size:13px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{font-size:13px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:13px}.dropdown[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:14px}.create_btn[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:3px;background-color:#3867b1;border:1px solid #fff;box-shadow:inset 0 1px 34px 0 rgba(0,0,0,.5),0 1px 1px 0 rgba(0,0,0,.5);padding-right:35px;position:relative;right:30px;bottom:104px}.create_text[_ngcontent-%COMP%]{color:#fff;font-family:Roboto,sans-serif;font-size:13px;font-weight:500;line-height:15px;padding-left:10px}.corporate_input__placeholder-icon[_ngcontent-%COMP%]{position:relative;width:18px;bottom:28px;left:9px}div.upload[_ngcontent-%COMP%]{box-sizing:border-box;height:15px;width:123px;border-radius:3px;background-color:#fff;border:.5px solid grey;margin-top:-25px;box-shadow:0 .25px .1px 0 rgba(0,0,0,.5)}div.upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block!important;width:123px!important;height:15px!important;opacity:0!important;overflow:hidden!important}.no_choosen[_ngcontent-%COMP%]{height:10px;width:46px;left:132px;bottom:20px}.file_choose[_ngcontent-%COMP%], .no_choosen[_ngcontent-%COMP%]{color:#4f4f4f;font-family:Roboto,sans-serif;font-size:9px;position:relative;line-height:10px}.file_choose[_ngcontent-%COMP%]{left:31px;bottom:10px}.bookings_btn-panel[_ngcontent-%COMP%]{margin-top:20px;margin-left:12px}.bookings_btn-panel.pnr-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-top:0}.bookings_pickers[_ngcontent-%COMP%]   .input.bookings_datepicker[_ngcontent-%COMP%]{min-width:120px;max-width:138px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .ui.basic.floating.button[_ngcontent-%COMP%]{padding:10px!important;color:hsla(0,0%,59.6%,.6)!important;font-weight:300!important;line-height:11px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:1;z-index:1}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .bookings_input__placeholder-icon[_ngcontent-%COMP%]{width:24px;margin-top:6px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .bookings_input__placeholder-icon.cal[_ngcontent-%COMP%]{width:16px;margin-top:10px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .search.dropdown[_ngcontent-%COMP%]{width:218px;border-right:0;border-top-left-radius:5px;border-bottom-left-radius:5px}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .search.dropdown[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-left:42px!important}.bookings_pickers[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .search.dropdown[_ngcontent-%COMP%]   .default.text[_ngcontent-%COMP%]{font-size:12px;margin-right:0!important;padding:8px 0 0 38px!important}.confirm[_ngcontent-%COMP%], .recConfirm[_ngcontent-%COMP%], .recHold[_ngcontent-%COMP%]{width:70px}.recHold[_ngcontent-%COMP%]{line-height:18px;height:18px;background-color:#d44f4f;color:#fff}.download-img_icon[_ngcontent-%COMP%]{width:25px}.download-img[_ngcontent-%COMP%]{padding:3px;cursor:pointer;margin:22px}.recConfirm[_ngcontent-%COMP%]{height:18px;width:62px;margin:0;background-color:#72d44f;color:#fff;font-size:11px;text-align:center;line-height:18px;border-radius:12px}.recConfirm.hold[_ngcontent-%COMP%]{background-color:#dec66b}.recConfirm.void[_ngcontent-%COMP%]{background-color:#797979}.recConfirm.cancel[_ngcontent-%COMP%]{background-color:#b13838}.recConfirm.refund[_ngcontent-%COMP%]{background-color:#3867b1}.recConfirm.failed[_ngcontent-%COMP%]{background-color:#b13838}.ui.form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-style:normal;font-weight:500;font-size:13px;line-height:13px;color:#181b20;margin:0 0 8px}.ui.form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%] > .checkbox-field[_ngcontent-%COMP%], .ui.form[_ngcontent-%COMP%]   .three.wide.field[_ngcontent-%COMP%]{margin-bottom:16px}.ui.segment[_ngcontent-%COMP%]{padding:24px 0}.main_head[_ngcontent-%COMP%]{margin-bottom:20px;font-size:15px;font-weight:600!important}.eight.field.bookings_btn-panel[_ngcontent-%COMP%]{padding:0;text-align:right;margin-bottom:16px}.bookings_btn-panel[_ngcontent-%COMP%]{margin-left:0}.bookings_btn-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 6px}@media(max-width:1440px){.outer-segment[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{padding:0 24px}}@media(max-width:1280px){.outer-segment[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{padding:0 20px}}"]}),et)}],at=((nt=function t(){_classCallCheck(this,t)}).\u0275mod=c.Ob({type:nt}),nt.\u0275inj=c.Nb({factory:function(t){return new(t||nt)},imports:[[b.j.forChild(ot)],b.j]}),nt),it=n("QUrN"),rt=n("eqAM");n.d(e,"TransactionsModule",(function(){return st}));var ct,st=((ct=function t(){_classCallCheck(this,t)}).\u0275mod=c.Ob({type:ct}),ct.\u0275inj=c.Nb({factory:function(t){return new(t||ct)},providers:[u.a],imports:[[o.c,at,g.d,it.c,r.k,r.v,p.a,rt.a]]}),ct)},UJtz:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("fXoL"),a=n("n6zg"),i=["*"],r=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.modalService=e,this.el=n,this.element=n.nativeElement}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",(function(e){"jw-modal"===e.target.className&&t.close()})),this.modalService.add(this)):console.error("modal must have an id")}},{key:"ngOnDestroy",value:function(){this.modalService.remove(this.id),this.element.remove()}},{key:"open",value:function(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}},{key:"close",value:function(){this.element.style.display="none",document.body.classList.remove("jw-modal-open")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Qb(a.a),o.Qb(o.l))},t.\u0275cmp=o.Kb({type:t,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:i,decls:4,vars:0,consts:[[1,"jw-modal"],[1,"jw-modal-body"],[1,"jw-modal-background"]],template:function(t,e){1&t&&(o.oc(),o.Wb(0,"div",0),o.Wb(1,"div",1),o.nc(2),o.Vb(),o.Vb(),o.Rb(3,"div",2))},styles:["jw-modal{display:none}jw-modal .jw-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{padding:20px;background:#fff;margin:40px}jw-modal .jw-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.75;z-index:900}body.jw-modal-open{overflow:hidden}"],encapsulation:2}),t}()},n6zg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("fXoL"),a=function(){var t=function(){function t(){_classCallCheck(this,t),this.modals=[]}return _createClass(t,[{key:"add",value:function(t){this.modals.push(t)}},{key:"remove",value:function(t){this.modals=this.modals.filter((function(e){return e.id!==t}))}},{key:"open",value:function(t){this.modals.find((function(e){return e.id===t})).open()}},{key:"close",value:function(t){this.modals.find((function(e){return e.id===t})).close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);